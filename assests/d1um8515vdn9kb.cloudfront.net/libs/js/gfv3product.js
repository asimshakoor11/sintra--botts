function refreshRechargeOptions(t,e,a){if(a=a||window.ReCharge)try{var n,i,r,o=e(t).find("#rc_container"),d=o.find("#rc_radio_options").find("input:checked");d&&d.length&&((n=o.closest('[data-label="Product"]>.module').children("[data-productid]"))&&n.length&&(i=n.data("productid"),a)&&a.products&&(r=a.products.find(function(t){return t.id==i}))&&(r.options.purchaseType="__2fh3j89_fake_option_4rc5vum9__"),d.trigger("click"))}catch(t){console.log(t)}}function hasImageShopify(e){return!!e&&["cdn.shopify.com/s/files/","apps.shopifycdn.com/","/cdn/shop/"].some(t=>e.includes(t))}function hasImageUCare(t){return!!t&&-1!=t.indexOf("ucarecdn.com/")}function replaceImageToSize(t,e){if(t&&null!=e){var a=e;if(hasImageShopify(t)){var n="",i=t.split("?");i&&i.length&&2<=i.length&&(n=i[1]);var i=i[0].split("/").pop().split("."),r=i.pop();if(-1!==["jfif"].indexOf(r))return t;for(var i=i.join("."),o=i.split("_"),d=(o&&2<=o.length&&(o=o.pop(),l=new RegExp(/(\d+)x(\d+)|(\d+)x|x(\d+)/,"gm"),o)&&l.test(o)&&""==o.replace(l,"")&&((i=i.split("_")).pop(),i=i.join("_")),t.split("?")[0].split("/")),c="",s=0;s<d.length-1;s++)c+=d[s]+"/";t=e?c+i+"_"+e+"."+r:c+i+"."+r,n&&(t=t+"?"+n)}if(hasImageUCare(t)){o=t.split("/-");if(o&&o.length){var l=o.length,e=o[0],i=e.replace("https://","").replace("http://",""),u=(/\.(gif|jpe?g|tiff|png|webp|bmp)$/i.test(i)&&((r=i.split("/")).pop(),i=r.join("/")),e.includes("https")?e="https://"+i:e.includes("http")&&(e="http://"+i),o.slice(1,l));u.find(function(t){t.includes("preview")})||u.unshift("/preview");for(var f=0;f<u.length;f++){var g,h=u[f];"/"==u[f][0]&&(h=u[f].slice(1,h.length)),(h="/"==u[f][h.length-1]?u[f].slice(0,h.length-1):h).includes("preview")&&(h=u[f],a.includes("x")?(g=a.split("x"))&&g.length&&1==(g=g.filter(function(t){t.trim().length})).length&&(a=g[0]+"x"+g[0]):isNaN(parseInt(a))||(a=a+"x"+a),h="/preview/"+a,u&&1==u.length&&"/preview"==u[0]&&(h+="/"),u[f]=h)}t=e+"/-"+u.join("/-")}}}return t}HTMLFormElement.prototype.requestSubmit||(HTMLFormElement.prototype.requestSubmit=function(){var t=document.createElement("input");t.type="submit",t.hidden=!0,this.appendChild(t),t.click(),this.removeChild(t)}),HTMLFormElement.prototype.reportValidity||(HTMLFormElement.prototype.reportValidity=function(){return!!this.checkValidity()||(this.noValidate?(this.noValidate=!1,this.requestSubmit(),this.noValidate=!0):this.requestSubmit(),!1)}),function(u){u.gfZoom=function(t,e){var i,r,o,d,c,a={target:void 0,imageUrl:void 0,imageZoomUrl:void 0,magnify:1},s=(this.settings={},u(t)),l=this;this.init=function(){return this.settings=u.extend({},a,e),s.css({position:"relative",overflow:"hidden"}),i=null!=l.settings.target?l.settings.target:s,l.initZoom(),!1},this.destroy=function(){return s.off(".zoom"),i.find(".zoomImg").remove(),!1},this.initZoom=function(t,e){l.destroy(),r=document.createElement("img"),o=u(r);var a=s.find("img[data-zoom]");return null!=t&&a.attr("src",t),null!=e?a.attr("data-zoom",e):e=a.attr("data-zoom"),null!=e&&(r.onload=function(){d=i.outerWidth(),c=i.outerHeight();var t,e,a=r.width,n=r.height,a=(t=a<d&&1==l.settings.magnify?d/a:l.settings.magnify,o.addClass("zoomImg").css({position:"absolute",top:0,left:0,opacity:0,width:a*t,height:n*t,border:"none",maxWidth:"none",maxHeight:"none"}).appendTo(i),u(".gryffeditor").hasClass("editing")?"dev":"production");a&&"production"==a&&0<(n=i.find("a[href]")).length&&(e=n.attr("href"))&&""!=e&&s.off("click.openLink").on("click.openLink",function(t){window.location.href=e}),s.on("mouseover.zoom",l.startZoom).on("mouseleave.zoom",l.stopZoom).on("mousemove.zoom",l.moveZoom)},r.src=e),!1},this.moveZoom=function(t){var e=t.pageX-i.offset().left,t=t.pageY-i.offset().top,a=(r.width-d)/d,n=(r.height-c)/c;o.css({left:e*-a+"px",top:t*-n+"px"})},this.startZoom=function(t){d!=i.outerWidth()&&l.initZoom(),l.moveZoom(t),o.stop().fadeTo(300,1)},this.stopZoom=function(t){o.stop().fadeTo(300,0)},this.init()},u.fn.gfZoom=function(e){return this.each(function(){var t;null==u(this).data("gfzoom")&&(t=new u.gfZoom(this,e),u(this).data("gfzoom",t))})}}(window.GemQuery||jQuery),(Shopify="undefined"==typeof Shopify?{}:Shopify).formatMoney||(Shopify.formatMoney=function(t,e){var a="",n=/\{\{\s*(\w+)\s*\}\}/,e=e||this.money_format;function i(t,e){return void 0===t?e:t}function r(t,e,a,n){return e=i(e,2),a=i(a,","),n=i(n,"."),isNaN(t)||null==t?0:(e=(t=(t/100).toFixed(e)).split("."))[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+a)+(e[1]?n+e[1]:"")}switch("string"==typeof t&&(t=t.replace(".","")),e.match(n)[1]){case"amount":a=r(t,2);break;case"amount_no_decimals":a=r(t,0);break;case"amount_with_comma_separator":a=r(t,2,".",",");break;case"amount_no_decimals_with_comma_separator":a=r(t,0,".",",")}return e.replace(n,a)}),function(f){f.gfV3Product=function(t,a){var n={click2cart:"0"},l=(this.settings={},f(t)),u=this,i="",r={};this.init=function(){this.settings=f.extend({},n,a),t=null!=l.attr("data-variant")&&"auto"!=l.attr("data-variant")?l.attr("data-variant"):0;var t,e=l.closest('[data-label="Product"]'),e=(e&&e.length&&e.attr("id")&&(i=e.attr("id")),l.closest('[data-label="Product"]')),e=(0<e.length&&("default"!=e.attr("data-status")&&"dynamic"!=e.attr("data-status")||(e=u.getUrlParameter("variant"),t=""!=u.getUrlParameter("variant")?e:0)),u.getVariantById(t));return u.setVariant(e,!0),u.onChangeVariant(),u.onChangeVariantId(),u.onChangeQuantity(),u.subscribeMediaData(),!1},this.getVariantFromMedia=function(e){var t=u.findProductModule(),a={};if(0<t.find(".product-json").length)try{return(a=f.parseJSON(t.find(".product-json").html())).variants.find(function(t){return!(!t||!t.featured_image||t.featured_image.id!=e)||t&&t.featured_media&&t.featured_media.id==e})}catch(t){console.warn(t.message)}else try{var n=l.closest("[data-pid]").attr("data-pid");return(a=null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor")?window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(n):a).variants.find(function(t){return t.image_id==e})}catch(t){console.warn(t.message)}},this.subscribeMediaData=function(){window.GEMSTORE&&window.GEMSTORE.subscribe("gemActiveMediaData-"+i,function(t){var e,t=u.getVariantFromMedia(t.id);t&&((e=u.findProductModule().data("gfv3product"))?e.setVariant(t,!1):console.warn("couldn't find parent product module"))})},this.findProductModule=function(){var t=l.closest('[data-label="Product"]').children(".module");return t=0==t.length?l.closest('[data-icon="gpicon-product"]').children(".module"):t},this.getVariant=function(){return r},this.getQuantity=function(){var t=l.find('[data-key="p-quantity"]>.module');if(t&&t.length){t=t.find('input[name="quantity"]');if(t&&t.length)return t.val()||1}return 1},this.checkPassBlankOption=function(){var a=!0;return l.closest('[data-label="Product"]').children(".module").find('[data-label="(P) Variants"]').each(function(){f(this).find(".gf_variants").each(function(){var t=f(this).find("option:selected"),e=t.hasClass("gf_blank-option"),t="disabled"==t.attr("disabled");(e||t)&&(a=!1)})}),a},this.setVariant=function(e,a){if((a=null!=a&&a)||!e.id||!r.id||r.id!=e.id||this.checkPassBlankOption()){var t=null!=e.id?e.id:"",n=!1,i=((a||e.id&&r.id!=t)&&(n=!0),l.attr("data-current-variant",t),l.children("form").children('[name="id"]'));if((!(i&&0<i.length)&&0<l.find("#rc_container, .rc_container").length?l.children("form").children("[data-productid]"):l.children("form").children('[name="id"]')).attr("data-value",t).val(t),r=e,!a){i=window.location.href,i=u.updateUrlParameter(i,"variant",t);try{window.history.replaceState({},"",i)}catch(t){}}return l.find('[data-label="(P) Variants"]').each(function(){var t=f(this);null!=t.children(".module").data("gfv3productvariants")&&t.children(".module").data("gfv3productvariants").initWithVariant(e)}),l.find('[data-label="(P) Swatches"]').each(function(){var t=f(this);null!=t.children(".module").data("gfv3productswatches")&&t.children(".module").data("gfv3productswatches").initWithVariant(e)}),l.find('[data-label="(P) Quantity"]').each(function(){null!=($quantity=f(this)).children(".module").data("gfv3productquantity")&&$quantity.children(".module").data("gfv3productquantity").initWithVariant(e)}),l.find('[data-label="(P) Price"]').each(function(){var t=f(this);null!=t.children(".module").data("gfv3productprice")&&t.children(".module").data("gfv3productprice").initWithVariant(e)}),l.find('[data-label="(P) Image"]').each(function(){var t=f(this);null!=t.children(".module").data("gfv3productimage")&&t.children(".module").data("gfv3productimage").initWithVariant(e,a)}),l.find('[data-label="(P) Cart Button"]').each(function(){var t=f(this).children(".module").data("gfv3productcartbutton");null!=t&&t.initWithVariant(e)}),l.find('[data-label="(P) Image List"]').each(function(){var t=f(this);setTimeout(function(){null!=t.children(".module").data("gfv3productimagelist")&&t.children(".module").data("gfv3productimagelist").gotoThumb(e)},0)}),l.find('[data-label="(P) Stock Counter"]').each(function(){var t=f(this);setTimeout(function(){null!=t.children(".module").data("gfv1stockcounter")&&t.children(".module").data("gfv1stockcounter").initWithVariant(e)},0)}),n&&this.triggerChangeVariant(e),!1}},this.triggerChangeVariant=function(t){window.GEMSTORE&&window.GEMSTORE.dispatch("product-"+i+"-variant",t)},this.triggerAddedToCart=function(t,e){window.GEMSTORE&&(window.GEMSTORE.dispatch("product-"+i+"-addtocart-success",t,e),f("#"+i).trigger("addToCartSuccess.gfaction"))},this.triggerErrorAddToCart=function(t,e){window.GEMSTORE&&(window.GEMSTORE.dispatch("product-"+i+"-addtocart-error",t,e),f("#"+i).trigger("addToCartError.gfaction"))},this.onChangeVariant=function(){window.GEMSTORE&&window.GEMSTORE.subscribe("product-"+i+"-variant",function(t){u.setVariant(t)})},this.onChangeVariantId=function(){window.GEMSTORE&&window.GEMSTORE.subscribe("product-"+i+"-variant-id",function(t){t=u.getVariantById(t);u.setVariant(t)})},this.onChangeQuantity=function(){window.GEMSTORE&&window.GEMSTORE.subscribe("product-"+i+"-quantity",function(t){u.changeQuantityValue(t)})},this.changeQuantityValue=function(t){var e=l.find('input[name="quantity"], .gf_pq_qty');return e&&e.length&&e.each(function(){f(this).val()!=t&&f(this).val(t).trigger("change")}),!1},this.getVariantById=function(t){var e={},a=l.closest('[data-label="Product"]');if(0<a.find(".product-json").length)try{var n=l.children("form").children('[name="id"]').attr("data-productid");if(o=0<a.find("#product-json"+n).length?f.parseJSON(a.find("#product-json"+n).html()):f.parseJSON(a.find(".product-json").html()),0==t){for(var e=o.variants[0],i=1;!e.available&&i<o.variants.length;)e=o.variants[i],i++;e.available||(e=o.variants[0])}else{for(var r=0;r<o.variants.length;r++)if(o.variants[r].id.toString()==t.toString()){e=o.variants[r];break}if(f.isEmptyObject(e))try{e=o.variants[0]}catch(t){console.log(t.message)}}}catch(t){console.log(t.message)}else try{n=l.attr("data-pid");if(null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor")){var o=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(n);if(0==t){e=o.variants[0];for(i=1;!e.available&&i<o.variants.length;)e=o.variants[i],i++;e.available||(e=o.variants[0])}else{for(r=0;r<o.variants.length;r++)if(o.variants[r].id.toString()==t.toString()){e=o.variants[r];break}if(f.isEmptyObject(e))try{e=o.variants[0]}catch(t){console.log(t.message)}}}}catch(t){console.log(t.message)}return e},this.getVariantByImage=function(t){var t=t.split("?")[0].split("."),e=t.pop(),a=t.pop().replace(/_[a-zA-Z0-9@]+$/,""),n=t.join(".")+"."+a+"."+e,i={},r=0;if(0<l.find(".product-json").length)try{for(var o=f.parseJSON(l.find(".product-json").html()),d=0;d<o.variants.length;d++){var c=o.variants[d].featured_image;if(-1!==c.src.indexOf(n)&&0<c.variant_ids.length){r=c.variant_ids[0];break}}if(0<r)for(d=0;d<o.variants.length;d++)if(r==o.variants[d].id){i=o.variants[d];break}}catch(t){console.log(t.message)}else try{var s=l.attr("data-pid");if(null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor")){for(o=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(s),d=0;d<o.images.length;d++)if(-1!==o.images[d].src.indexOf(n)&&0<o.images[d].variant_ids.length){r=o.images[d].variant_ids[0];break}if(0<r)for(d=0;d<o.variants.length;d++)if(r==o.variants[d].id){i=o.variants[d];break}}}catch(t){console.log(t.message)}return i},this.getUrlParameter=function(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");t=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},this.updateUrlParameter=function(t,a,n){var i,e=document.createElement("a"),t=(e.href=t,e.pathname),t=(t&&"/"!=t.substr(0,1)&&(t="/"+t),e.protocol+"//"+e.host+t);return e.search&&-1!==e.search.indexOf("?")?-1!==e.search.indexOf(a+"=")?((i=(i=e.search.replace("?","")).split("&")).forEach(function(t,e){-1!==t.indexOf(a+"=")&&(null!==n?i[e]=a+"="+n:delete i[e])}),0<i.length&&(t+="?"+i.join("&"))):t+=null!==n?e.search+"&"+a+"="+n:e.search:null!==n&&(t+="?"+a+"="+n),t+=e.hash},this.addItemToCart=function(e,a){var n,t,i,r,o,d,c,s;return window.GEMSTORE&&window.GEMSTORE.checkKeyValid("bestWayAddToCart")?(t=new FormData(l.children("form")[0]),c={},t.forEach?t.forEach(function(t,e){c[e]=t}):l.children("form").find("[name]").each(function(){var t=f(this).attr("name"),e=f(this).val();t&&(c[t]=e)}),f.ajax({type:"POST",url:"/cart/add.js",dataType:"json",data:t,processData:!1,contentType:!1,success:function(t){e(t),u.triggerAddedToCart(t,c)},error:function(t){a(t),u.triggerErrorAddToCart(t,c)}})):(n=1,t=(l.find('.module-wrap[data-label="(P) Quantity"]').each(function(t,e){e=f(e);if("none"!=e.css("display"))return n=parseInt(e.find('input[name="quantity"]').val()),!1}),l.find('input[name="id"]').val()),0<l.find("#rc_container, .rc_container").length?(s=l.find("#rc_container, .rc_container"),(t=null==t?s.find("#rc_duplicate_selector").val():t)&&""!=t||(t=s.find("#rc_duplicate_selector").children().val()||l.find("[name='id'][data-value]").attr("data-value")||l.find("[name=''][data-productid]").val()),r=s.find('[id^="rc_shipping_interval_frequency"]'),i=s.find('[name="purchase_type"]:checked').val(),r=void 0!==r.val()?r.val():"1",o=s.find("#rc_shipping_interval_unit_type").val(),d=s.find("#rc_subscription_id").val(),s=parseInt(s.find('[name="selling_plan"]').val()),c={quantity:n,id:t},i&&""!=i&&"onetime"!=((c.purchase_type=i)||"").toLowerCase()&&(c["properties[shipping_interval_frequency]"]=r,c["properties[shipping_interval_unit_type]"]=o,c["properties[subscription_id]"]=d)):(c={quantity:n,id:t},s=parseInt(l.find('[name="selling_plan"]').val())),isNaN(s)||(c.selling_plan=s),l.find('[name^="properties"]').each(function(t,e){var e=f(e),a=e.attr("name"),e=e.val();null!=e&&""!=e&&null==c[a]&&(c[a]=e)}),f.ajax({type:"POST",url:"/cart/add.js",data:c,dataType:"json",success:function(t){e(t),u.triggerAddedToCart(t,c)},error:function(t){a(t),u.triggerErrorAddToCart(t,c)}})),!1},this.init()},f.fn.gfV3Product=function(e){return this.each(function(){var t;null==f(this).data("gfv3product")&&(t=new f.gfV3Product(this,e),f(this).data("gfv3product",t))})}}(window.GemQuery||jQuery),function(d){d.gfV3ProductQuantity=function(t,a){var r=d(t),n={minusClass:"gf_product-quantity-minus",plusClass:"gf_product-quantity-plus",style:"default",updatePrice:"0"},o=(this.settings={},this),i="";this.init=function(){this.settings=d.extend({},n,a);var t=o.findParentProduct(),e=r.closest('[data-label="Product"]');return e&&e.length&&e.attr("id")&&(i=e.attr("id")),null!=t.data("gfv3product")&&(e=t.data("gfv3product").getVariant(),o.initWithVariant(e)),o.applyEvents(),!1},this.initWithVariant=function(t){return d.isEmptyObject(t)||o.changeStatus(t.available),!1},this.changeStatus=function(t){return t?r.fadeTo(300,1).show():0<o.findParentProduct().find(".product-json").length?r.hide():r.fadeTo(300,.2),!1},this.applyEvents=function(){var t=o.settings.minusClass,e=o.settings.plusClass,a=o.settings.style,n=parseInt(o.settings.updatePrice),i=r.find('input[name="quantity"], .gf_pq_qty'),t=r.find("."+t),e=r.find("."+e);return setTimeout(function(){1==n?o.updatePrice(i.val()):o.updatePrice(1)},1e3),"simple"==a?(t.hide(),e.hide()):(t.show(),e.show(),t.off("click").on("click",function(t){t.preventDefault();var t=parseInt(i.val()),e=(--t<1&&(t=1),o.findParentProduct().not(i).find('input[name="quantity"], .gf_pq_qty'));return e&&e.length&&e.val(t),i.val(t).trigger("change"),!1}),e.off("click").on("click",function(t){t.preventDefault();var t=parseInt(i.val()),e=(t++,o.findParentProduct().not(i).find('input[name="quantity"], .gf_pq_qty'));return e&&e.length&&e.val(t),i.val(t).trigger("change"),!1})),i.off("change keyup paste").on("change keyup paste",function(){var t=d(this).val(),e=o.findParentProduct().not(i).find('input[name="quantity"], .gf_pq_qty');return e&&e.length&&e.val(t),1==n&&o.updatePrice(t),o.triggerChangeQuantity(t),refreshRechargeOptions(o.findParentProduct(),d,window.ReCharge),!1}),!1},this.triggerChangeQuantity=function(t){window.GEMSTORE&&window.GEMSTORE.dispatch("product-"+i+"-quantity",t)},this.updatePrice=function(e){return null==e&&(e=r.find('input[name="quantity"]').val()),o.findParentProduct().find('[data-label="(P) Price"]').each(function(){var t=d(this);null!=t.children(".module").data("gfv3productprice")&&t.children(".module").data("gfv3productprice").setPriceWithQuantity(e)}),!1},this.findParentProduct=function(){var t=r.closest('[data-label="Product"]').children(".module");return t=0==t.length?r.closest('[data-icon="gpicon-product"]').children(".module"):t},this.init()},d.fn.gfV3ProductQuantity=function(e){return this.each(function(){var t;null==d(this).data("gfv3productquantity")&&(t=new d.gfV3ProductQuantity(this,e),d(this).data("gfv3productquantity",t))})}}(window.GemQuery||jQuery),function(C){C.gfV3ProductSwatches=function(t,c){var s,l,m,w,v={swatchText:"1",onSwatchSelected:function(t,e){}},y=(this.settings={},C(t)),_=this,b=[],u=[];this.init=function(){this.settings=C.extend({},v,c);var t,u=_.findParentProduct();if(null!=u.data("gfv3product")&&(t=u.data("gfv3product").getVariant(),_.initWithVariant(t)),"1"==this.settings.swatchText)y.find(".gf_swatch").children("span").css("visibility","visible");else{var e=y.attr("data-swatcher-hide");if(e&&"All"!==e){y.find(".gf_swatch").children("span").removeClass("gf_swatch-hide");try{for(var a in e=-1!==(e="Other"==e?y.attr("data-swatcher-hideother"):e).indexOf(",")?e.split(","):[e]){var n=(n=e[a]).trim(),i=y.find('.gf_swatches-selector[data-name="'+n+'"]');0<i.length&&i.find(".gf_swatch").children("span").addClass("gf_swatch-hide")}}catch(t){console.log(t),y.find(".gf_swatch").children("span").css("visibility","hidden")}}else y.find(".gf_swatch").children("span").css("visibility","hidden")}if(null!=y.attr("data-background"))try{var f=y.attr("data-background"),f=JSON.parse(decodeURIComponent(escape(window.atob(f)))),r=y.find(".gf_swatches-selector"),g=_.getSwatchValue(r.eq(0).find(".gf_swatch").first()),h=_.getSwatchValue(r.eq(1).find(".gf_swatch").first()),p=_.getSwatchValue(r.eq(2).find(".gf_swatch").first());r.each(function(s){var t=C(this),l=t.attr("data-name");window.GEMSTORE&&window.GEMSTORE.checkKeyValid("hotfixMarketPlace")&&null==f[l]&&Object.keys(f)[0]&&(l=Object.keys(f)[0]),f[l]&&t.find(".gf_swatch").each(function(){var t=C(this),e=_.getSwatchValue(t);switch(f[l].type){case"image":var a="",n="";if(0<u.find(".product-json").length)try{for(var i=C.parseJSON(u.find(".product-json").html()),r=0;r<i.variants.length;r++)if(i.variants[r]["option"+(s+1)]==e&&i.variants[r].featured_image&&i.variants[r].featured_image.src){if(n=n||i.variants[r].featured_image.src,0==s&&i.variants[r].option2==h&&i.variants[r].option3==p){a=i.variants[r].featured_image.src;break}if(1==s&&i.variants[r].option1==g&&i.variants[r].option3==p){a=i.variants[r].featured_image.src;break}if(2!=s||i.variants[r].option1!=g||i.variants[r].option2!=h)break;a=i.variants[r].featured_image.src;break}}catch(t){console.log(t.message)}else try{var o=u.attr("data-pid");if(null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor"))for(i=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(o),r=0;r<i.variants.length;r++)if(i.variants[r]["option"+(s+1)]==e&&i.variants[r].image_id&&i.images){if(!n)for(var d=i.variants[r].image_id,c=0;c<i.images.length;c++)d==i.images[c].id&&(n=i.images[c].src);if(0==s&&i.variants[r].option2==h&&i.variants[r].option3==p){for(d=i.variants[r].image_id,c=0;c<i.images.length;c++)if(d==i.images[c].id){a=i.images[c].src;break}break}if(1==s&&i.variants[r].option1==g&&i.variants[r].option3==p){for(d=i.variants[r].image_id,c=0;c<i.images.length;c++)if(d==i.images[c].id){a=i.images[c].src;break}break}if(2==s&&i.variants[r].option1==g&&i.variants[r].option2==h){for(d=i.variants[r].image_id,c=0;c<i.images.length;c++)if(d==i.images[c].id){a=i.images[c].src;break}break}}}catch(t){console.log(t.message)}t.css("background-image","url("+_.resizeImage(a=a||n)+")");break;case"color":o=e.toLowerCase();t.css("background-color",o);break;case"manual":if(f[l].variants&&f[l].variants[e])switch(f[l].variants[e].type){case"image":t.css("background-image","url("+_.resizeImage(f[l].variants[e].value)+")");break;case"color":t.css("background-color",f[l].variants[e].value)}}})})}catch(t){console.log(t.message)}else if(null!=y.attr("data-swatcher"))try{o=(o=y.attr("data-swatcher")).replace(/'/gi,'"'),b=C.parseJSON(o),y.find(".gf_swatch").each(function(){var t=C(this),e=_.getSwatchValue(t),e=_.findSwatchinArray(e);C.isEmptyObject(e)||_.renderSwatchColor(e.color1,e.color2,e.image,t)})}catch(t){console.log(t.message)}else if(0<y.find(".gf_swatches-data").length)try{var o=y.find(".gf_swatches-data").text(),d=void 0!==y.parent().attr("data-ver")?y.parent().attr("data-ver"):"1";parseInt(d)<2&&(o=o.replace(/'/gi,'"')),b=C.parseJSON(o),y.find(".gf_swatch").each(function(){var t=C(this),e=_.getSwatchValue(t),e=_.findSwatchinArray(e);C.isEmptyObject(e)||_.renderSwatchColor(e.color1,e.color2,e.image,t)})}catch(t){console.log(t.message)}return s=y.attr("data-soldout"),l=y.attr("data-soldout-color"),m=y.attr("data-soldout-style"),w=y.attr("data-soldout-logic"),null==m&&(m="default"),null==w&&(w="1"),"1"==s&&(_.updateSwatchAvailableVariants(),"1"==w?_.addSoldOut():"2"==w&&_.addSoldOutLogic2()),_.applyEvents(),!1},this.getSwatchValue=function(t){var e;return t&&((e=t.attr("data-value"))&&e.trim()||(e=t.text())&&e.trim())?e.trim():""},this.updateSwatchAvailableVariants=function(){var t=_.findParentProduct(),e={};if(0<t.find(".product-json").length)try{e=C.parseJSON(t.find(".product-json").html())}catch(t){console.log(t.message)}else try{var a=y.closest("[data-pid]").attr("data-pid");null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor")&&(e=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(a))}catch(t){console.log(t.message)}if(!C.isEmptyObject(e))for(var n=0;n<e.variants.length;n++){var i=e.variants[n];null!=i.available&&i.available?u.push(i):(0<i.inventory_quantity||"shopify"!=i.inventory_management)&&u.push(i)}return u},this.handleSwatchStyle=function(t,e){"default"==t?0==e.children("svg").length&&e.append('<svg height="100" width="100" preserveAspectRatio="none" class="gf_soldout"><line x1="0%" y1="0%" x2="100%" y2="100%" style="stroke:'+l+';stroke-width:2" /><line x1="0%" y1="100%" x2="100%" y2="0%" style="stroke:'+l+';stroke-width:2" /></svg>'):e.hasClass("gf_swatch-soldout")||e.addClass("gf_swatch-soldout")},this.initWithVariant=function(t){if(!C.isEmptyObject(t)){if(t.options&&0<t.options.length)for(var e=[],a=1;a<=t.options.length;a++)null!=t["option"+a]&&e.push(t["option"+a]);else e=t.title.split(" / ");var n=0;y.find(".gf_swatch").removeClass("gf_selected"),y.find(".gf_swatches-selector").each(function(){C(this).find(".gf_swatch").each(function(){var t=C(this);_.getSwatchValue(t)==C.trim(e[n])&&t.addClass("gf_selected")}),n++}),"1"==s&&"2"==w&&_.addSoldOutLogic2()}return!1},this.applyEvents=function(){return y.find(".gf_swatch").off("click").on("click",function(){var t=C(this),e=_.findParentProduct(),a=t.closest(".gf_swatches"),a=(t.closest("form"),a.attr("data-type")),n=(t.closest(".gf_column").find(".gf_swatch").removeClass("gf_selected"),t.addClass("gf_selected"),{});if("together"==a){var i=C(this).attr("data-vid");if(0<e.find(".product-json").length)try{for(var r=C.parseJSON(e.find(".product-json").html()),o=0;o<r.variants.length;o++){var d=r.variants[o].options;if(r.variants[o].id==i){n=r.variants[o];break}}}catch(t){console.log(t.message)}else try{var c=y.closest("[data-pid]").attr("data-pid");if(null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor"))for(r=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(c),o=0;o<r.variants.length;o++)if(r.variants[o].id==i){n=r.variants[o];break}}catch(t){console.log(t.message)}}else{var s=[];if(y.find(".gf_swatch.gf_selected").each(function(){var t=_.getSwatchValue(C(this));s.push(C.trim(t))}),0<e.find(".product-json").length)try{for(r=C.parseJSON(e.find(".product-json").html()),o=0;o<r.variants.length;o++)if((d=r.variants[o].options).join(",")===s.join(",")){n=r.variants[o];break}}catch(t){console.log(t.message)}else try{var l=s.join(","),c=y.closest("[data-pid]").attr("data-pid");if(null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor"))for(r=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(c),o=0;o<r.variants.length;o++){for(var u=r.variants[o],d=[],f=1;null!=u["option"+f]&&null!=u["option"+f];)d.push(u["option"+f]),f++;if((d=0==d.length?C.map(r.variants[o].title.split("/"),C.trim):d).join(",")===l){n=u;break}}}catch(t){console.log(t.message)}}return null!=e.data("gfv3product")&&e.data("gfv3product").setVariant(n),_.settings.onSwatchSelected(n,t),setTimeout(function(){refreshRechargeOptions(_.findParentProduct(),C,window.ReCharge)},10),!1}),!1},this.replaceBGColorImportant=function(t,e){var a,n;return!e&&""==e||(a=(a=t.attr("style"))?a.split(";"):[],n=[],a.map(function(t){"background-color"!=t.split(":")[0]&&n.push(t)}),n.push("background-color: "+e+" !important"),t.attr("style",n.join(";"))),!1},this.renderSwatchColor=function(t,e,a,n){return""!=a?n.css("background-image","url("+a+")"):""!=e&&"transparent"!=e?(a="",n.css("background-image",a+="linear-gradient(180deg, "+t+" 50%, "+e+" 50%)")):(n.css("background-image","none"),_.replaceBGColorImportant(n,t)),!1},this.findSwatchinArray=function(t){for(var e={},a=0;a<b.length;a++)if(C.trim(t.toLowerCase())==C.trim(b[a].label.toLowerCase())){e=b[a];break}return e},this.findParentProduct=function(){var t=y.closest('[data-label="Product"]').children(".module");return t=0==t.length?y.closest('[data-icon="gpicon-product"]').children(".module"):t},this.addSoldOut=function(){return y.find(".gf_swatches").find(".gf_swatches-selector").each(function(i){C(this).find(".gf_swatch").each(function(){for(var t=C(this),e=_.getSwatchValue(t),a=!1,n=0;n<u.length;n++)if(u[n]["option"+(parseInt(i)+1)]==e){a=!0;break}a||_.handleSwatchStyle(m,t)})}),!1},this.addSoldOutLogic2=function(){var t=y.find(".gf_swatches").find(".gf_swatches-selector"),o=t.length,e=(t.find(".gf_swatch").find("svg").remove(),t.find(".gf_swatch").removeClass("gf_swatch-soldout"),t.eq(0).children(".gf_swatch.gf_selected")),d=_.getSwatchValue(e),e=t.eq(1).children(".gf_swatch.gf_selected"),c=_.getSwatchValue(e),e=t.eq(2).children(".gf_swatch.gf_selected"),s=_.getSwatchValue(e);return t.each(function(r){C(this).find(".gf_swatch").each(function(){for(var t=C(this),e=_.getSwatchValue(t),a=!1,n=0;n<u.length;n++){var i=u[n];if(2==r&&i.option1==d&&i.option2==c&&i.option3==e){a=!0;break}if(1==r&&i.option1==d&&i.option2==e){if(2==o){a=!0;break}if(3==o&&i.option3==s){a=!0;break}}else if(0==r&&i.option1==e){if(1==o){a=!0;break}if(2==o&&i.option2==c){a=!0;break}if(3==o&&i.option2==c&&i.option3==s){a=!0;break}}}a||_.handleSwatchStyle(m,t)})}),!1},this.resizeImage=function(t){a=y.find(".gf_swatch"),i=n=30,a&&a.length&&a.each(function(){C(this);var t=a.outerWidth()||30,e=a.outerHeight()||30;n<t&&(n=t),i<e&&(i=e)}),e=Math.max(n,i);var a,n,i,e={width:e*=500<e?1.2:250<e?1.5:125<e?2:3,height:e};try{var r=parseInt(e.width),o=parseInt(e.height)}catch(t){r=120,o=120}return replaceImageToSize(t,r+"x"+o)},this.init()},C.fn.gfV3ProductSwatches=function(e){return this.each(function(){var t;null==C(this).data("gfv3productswatches")&&(t=new C.gfV3ProductSwatches(this,e),C(this).data("gfv3productswatches",t))})}}(window.GemQuery||jQuery),function(v){v.gfV3ProductVariants=function(t,e){var a={mode:"production",blankOption:void 0,blankOptionText:void 0,style:"default",onVariantSelected:function(t,e){}},m=(this.settings={},v(t)),w=this;this.init=function(){this.settings=v.extend({},a,e);"production"==w.settings.mode&&(1==m.find(".gf_variants > option").length&&-1!==m.find(".gf_variants > option:first").val().indexOf("Default")?m.find(".gf_variants").hide():m.find(".gf_variants").show());var t=w.findParentProduct();return null!=t.data("gfv3product")&&(t=t.data("gfv3product").getVariant(),w.initWithVariant(t)),w.applyEvents(),setTimeout(function(){var t=w.settings.blankOption,e=w.settings.blankOptionText;null!=t&&("1"==t?m.find(".gf_variants").each(function(){v(this).prepend('<option class="blank-option gf_blank-option" selected="selected" value="">'+e+"</option>"),v(this).attr("required","required")}):m.find(".gf_variants").each(function(){v(this).find("option.blank-option").remove(),v(this).removeAttr("required")}))},10),!1},this.initWithVariant=function(t){if(!v.isEmptyObject(t))if("separately"==m.find(".gf_variants:first").attr("data-type")){if(t.options&&0<t.options.length)for(var e=[],a=1;a<=t.options.length;a++)null!=t["option"+a]&&e.push(t["option"+a]);else e=t.title.split(" / ");var n=0;m.find("select").each(function(){var t=v.trim(e[n]);v(this).val(t),n++})}else m.find(".gf_variants").val(t.id);return!1},this.applyEvents=function(){return m.find(".gf_variants").off("change").on("change",function(){var t=v(this),e=w.findParentProduct(),a=v(this).closest("form"),n=v(this).attr("data-type"),i={};if("together"==n){var r=v(this).val();if(a.children('[name="id"]').attr("data-value",r).val(r),0<e.find(".product-json").length)try{var o=a.children('[name="id"]').attr("data-productid");c=0<e.find("#product-json"+o).length?v.parseJSON(e.find("#product-json"+o).html()):v.parseJSON(e.find(".product-json").html());for(var d=0;d<c.variants.length;d++)if(c.variants[d].id==r){i=c.variants[d];break}}catch(t){console.log(t.message)}else try{o=m.closest("[data-pid]").attr("data-pid");if(null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor"))for(var c=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(o),d=0;d<c.variants.length;d++)if(c.variants[d].id==r){i=c.variants[d];break}}catch(t){console.log(t.message)}}else{var s=[];if(m.find(".gf_variants").each(function(){s.push(v(this).val())}),0<e.find(".product-json").length)try{o=a.children('[name="id"]').attr("data-productid");c=0<e.find("#product-json"+o).length?v.parseJSON(e.find("#product-json"+o).html()):v.parseJSON(e.find(".product-json").html());for(d=0;d<c.variants.length;d++)if(c.variants[d].options.join(",")===s.join(",")){i=c.variants[d];break}}catch(t){console.log(t.message)}else try{var l=s.join(","),o=m.closest("[data-pid]").attr("data-pid");if(null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor"))for(c=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(o),d=0;d<c.variants.length;d++){for(var u=c.variants[d],f=[],g=1;null!=u["option"+g]&&null!=u["option"+g];)f.push(u["option"+g]),g++;if((f=0==f.length?v.map(c.variants[d].title.split("/"),v.trim):f).join(",")===l){i=u;break}}}catch(t){console.log(t.message)}}null!=e.data("gfv3product")&&e.data("gfv3product").setVariant(i);null!=w.settings.blankOption&&(h="",p=!1,m.find(".gf_variants").each(function(){h+=v(this).val(),v(this).find("option:selected").hasClass("gf_blank-option")&&(p=!0)}),e.find('[data-label="(P) Cart Button"]').children(".module").each(function(){var t=v(this).data("gfv3productcartbutton");h||p?(p&&null!=t||1==i.available&&null!=t)&&t.changeStatus(!0):null!=t&&t.changeStatus(!1)})),w.settings.onVariantSelected(i,t);var h,p,n=e.find('.module-wrap[data-label="(P) Quantity"] .module').first(),a=n.data("gfv3productquantity");if(0<n.length&&null!=a){if(a&&a.settings&&"0"==a.settings.updatePrice)return!1;a.updatePrice()}return setTimeout(function(){refreshRechargeOptions(w.findParentProduct(),v,window.ReCharge)},10),!1}),!1},this.findParentProduct=function(){var t=m.closest('[data-label="Product"]').children(".module");return t=0==t.length?m.closest('[data-icon="gpicon-product"]').children(".module"):t},this.init()},v.fn.gfV3ProductVariants=function(e){return this.each(function(){var t;null==v(this).data("gfv3productvariants")&&(t=new v.gfV3ProductVariants(this,e),v(this).data("gfv3productvariants",t))})}}(window.GemQuery||jQuery),function(v){v.gfV3ProductPrice=function(t,s){var l,u={displayCurrency:!0},f=(this.settings={},v(t)),g=this,h=".gf_product-price",p=".gf_product-compare-price",r="",t=null!=f.find(".gf_product-prices").attr("data-oldformat"),c=f.attr("data-round-decimals")||"0",m=f.attr("data-round-to")||"99",w="";this.init=function(){this.settings=v.extend({},u,s),l=v(".gryffeditor").hasClass("editing")?"dev":"production";function t(){v('[data-label="Product"]').each(function(t,e){e=v(e);e.find('.module-wrap[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity")?e.find('.module-wrap[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity").updatePrice():e.find('.module-wrap[data-label="(P) Price"]').children(".module").data("gfv3productprice")&&e.find('.module-wrap[data-label="(P) Price"]').children(".module").data("gfv3productprice").setPriceWithQuantity(1)})}var e=g.findParentProduct(),a=f.closest('[data-label="Product"]'),n=(a&&a.length&&a.attr("id")&&(w=a.attr("id")),null!=e.data("gfv3product")&&(a=e.data("gfv3product").getVariant(),g.initWithVariant(a)),this.subscribeChangeCurrency(),0),i=(window.gfBCCSupportInterval||(window.gfBCCSupportInterval=setInterval(function(){n++,0<v('select.currency-switcher[name="doubly-currencies"]').length&&(v('select.currency-switcher[name="doubly-currencies"]').off("change.changeCurrency").on("change.changeCurrency",function(){window.GEMSTORE&&window.GEMSTORE.checkKeyValid("doublyHotfix")?setTimeout(function(){e.find('.gf_module[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity")?e.find('.gf_module[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity").updatePrice():g.setPriceWithQuantity(1)},100):e.find('.gf_module[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity")?e.find('.gf_module[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity").updatePrice():g.setPriceWithQuantity(1)}),n=10),10==n&&(clearInterval(window.gfBCCSupportInterval),window.gfBCCSupportInterval=void 0)},1e3)),0),r=(window.gfSCASupportInterval||(window.gfSCASupportInterval=setInterval(function(){i++,0<v(".sca-body-currency .cs-options").length&&(v(".sca-body-currency .cs-options li").on("click.changeCurrency",function(){e.find('.gf_module[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity")?e.find('.gf_module[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity").updatePrice():g.setPriceWithQuantity(1)}),i=10),10==i&&(clearInterval(window.gfSCASupportInterval),window.gfSCASupportInterval=void 0)},1e3)),0),o=(window.gfGTSupportInterval||(window.gfGTSupportInterval=setInterval(function(){r++,window.GemCurrency&&window.store&&window.store.get&&window.store.change&&(window.store.get("dataCurrency")&&t(),window.store.change("dataCurrency",function(){t()}),r=10),10==r&&(clearInterval(window.gfGTSupportInterval),window.gfGTSupportInterval=void 0)},1e3)),0),d=(window.gfBearCCSupportInterval||(window.gfBearCCSupportInterval=setInterval(function(){o++,window.conversionBearAutoCurrencyConverter&&(window.cbCurrencygemPagesOnLoadDelay=1,window.conversionBearAutoCurrencyConverter.convertPricesOnPage(),o=10),10==o&&(clearInterval(window.gfBearCCSupportInterval),window.gfBearCCSupportInterval=void 0)},1e3)),0),c=!1;return window.gfDynamicCCSupportInterval||("object"==typeof pb_currency_converter&&pb_currency_converter.getConvertedPrice&&(g.dynamicCurrencySetup(),c=!0),c)||(window.gfDynamicCCSupportInterval=setInterval(function(){d++,"object"==typeof pb_currency_converter&&pb_currency_converter.getConvertedPrice&&(g.dynamicCurrencySetup(),c=!0,d=10),10==d&&(clearInterval(window.gfDynamicCCSupportInterval),window.gfDynamicCCSupportInterval=void 0)},1e3)),!1},t?(this.initWithVariant=function(t){if(!v.isEmptyObject(t)){var e=g.findParentProduct(),a=e.find("#gf-hidden-variant"+t.id),n="${{ amount }}";try{window.parent&&window.parent.jQuery&&window.parent.jQuery("#gfFrame")&&window.parent.jQuery("#gfFrame").attr("data-money")&&(n=window.parent.jQuery("#gfFrame").attr("data-money"))}catch(t){}var i=e.find('.module-wrap[data-label="(P) Quantity"]').first(),r=1,i=("1"==i.children(".module").attr("data-updateprice")&&(r=parseInt(i.find('input[name="quantity"]').val())),e.closest(".module-wrap[data-key='product']")),o=3;if(3<(o=i&&i.length?parseFloat(e.closest(".module-wrap[data-key='product']").data("ver"))||3:o)){try{var d=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor")}catch(t){}d&&d.length?(c=t.price,s=t.compare_at_price,n=n.replace(/{{.*}}/g,"{{amount}}"),window.parent.jQuery("#gfFrame").attr("data-money",n)):(i=f.find(".gf_product-prices").attr("data-oldformat"),c=g.convertNumberToPrice(t.price/100,i),0<t.compare_at_price&&(s=g.convertNumberToPrice(t.compare_at_price/100,i)))}else if(null!=a&&0<a.length)var c=a.attr("data-price"),s=a.attr("data-compare-price");else{c=t.price,s=t.compare_at_price;n=n.replace(/{{.*}}/g,"{{amount}}");try{window.parent.jQuery("#gfFrame").attr("data-money",n)}catch(t){}}e=g.getUpdatePrice(c,r,n,h);f.find(h).attr("data-price",c),g.setPrice(e),s&&""!=s?(o=g.getUpdatePrice(s,r,n,p),f.find(p).show(),f.find(p).attr("data-price",s),g.setComparePrice(o)):f.find(p).hide(),g.setPercentDiscount(c,s),null!=window.conversionBearAutoCurrencyConverter&&window.conversionBearAutoCurrencyConverter.convertPricesOnPage()}return!1},this.setPercentDiscount=function(t,e){var a,n,i=f.find(".gf_pq-discount-selector");if(t==e)f.find(p).hide(),i.hide();else if(e&&t&&0<i.length)try{t=(t=t.match(/\d/g)).join(""),t=parseFloat(t),e=(e=e.match(/\d/g)).join(""),(e=parseFloat(e))&&0<e?(a=(a=(a=e-t)/e*100).toFixed(0),n=i.find(".gf_pq-percent"),i.show(),n.html(a+"%")):i.hide()}catch(t){i.hide()}else 0<i.length&&i.hide()},this.setPrice=function(t){return t=v("<div>"+t+"</div>").text(),(f.find(h).children("span").hasClass("money")?f.find(h).children("span"):f.find(h)).html(t),!1},this.setComparePrice=function(t){return t=v("<div>"+t+"</div>").text(),(f.find(p).children("span").hasClass("money")?f.find(p).children("span"):f.find(p)).html(t),!1},this.convertPriceToNumber=function(t,e){t=(t=t).replace(/\s/g,"");t=-1!=e.indexOf("amount_with_apostrophe_separator")?t.replace(/'/g,""):-1!=e.indexOf("amount_with_comma_separator")?t.replace(/\./g,"").replace(",","."):-1!=e.indexOf("amount_no_decimals_with_comma_separator")?t.replace(/\./g,""):(e.indexOf("amount_no_decimals"),t.replace(/,/g,""));try{return parseFloat(t)}catch(t){return null}},this.convertNumberToPrice=function(t,e){for(var a=".",n=",",i=(t=-1!=e.indexOf("amount_no_decimals_with_comma_separator")||-1!=e.indexOf("amount_no_decimals")?t.toFixed(0):t.toFixed(2)).split(".")[0],t="1"==c?m:t.split(".")[1],r=(-1!=e.indexOf("amount_with_apostrophe_separator")?n="'":-1!=e.indexOf("amount_with_comma_separator")?(a=",",n="."):-1!=e.indexOf("amount_no_decimals_with_comma_separator")?(a="",n="."):-1!=e.indexOf("amount_no_decimals")&&(a=""),0),o="",d=i.length-1;0<=d;d--)o=i[d]+o,++r%3==0&&0!=d&&(o=n+o);return""==a?o:o+a+t},this.calculatePriceByQuantity=function(t,e,a,n){var a=f.find(".gf_product-prices").attr("data-oldformat")||a||"{{ amount }}",i=t;"number"==typeof t&&(i=""+t);t=a.replace(/{{.*}}/g,"{{gem}}").split("{{gem}}"),t[0]&&(i=i.replace(t[0],"")),i=(i=t[1]?i.replace(new RegExp(t[1]+"$"),""):i).replace(/\s/g,""),t=/(\d|,|\.|')+/g.exec(i);if(0<t.length){var t=t[0],r=g.convertPriceToNumber(t,a);if(!r)return i;var o=f.find(".gf_product-prices").attr("data-oldcurrency"),d=f.find(h).attr("data-currency");if(null==(d=null==(d=null==(d=null==d?f.find(h).find(".money").attr("data-currency"):d)&&window.GemCurrency&&window.GemCurrency.currentCurrency?window.GemCurrency.currentCurrency:d)&&null!=window.DoublyGlobalCurrency?window.DoublyGlobalCurrency.currentCurrency:d)&&null!=window.Currency&&(d=window.Currency.currentCurrency),n&&null!=window.conversionBearAutoCurrencyConverter&&f.find(n+" .conversion-bear-money").attr("data-amount",r*e),null!=o&&null!=d)if(null!=window.GemCurrency&&window.GemCurrency.convert)(c=window.GemCurrency.convert(r,o,d))&&(r=c),null!=window.GemCurrency.moneyFormats&&null!=window.GemCurrency.moneyFormats[d]&&null!=window.GemCurrency.moneyFormats[d].money_with_currency_format&&(a=window.GemCurrency.moneyFormats[d].money_with_currency_format);else if(null!=window.DoublyGlobalCurrency&&window.DoublyGlobalCurrency.convert)(c=window.DoublyGlobalCurrency.convert(r,o,d))&&(r=c),null!=window.DoublyGlobalCurrency.moneyFormats&&null!=window.DoublyGlobalCurrency.moneyFormats[d]&&null!=window.DoublyGlobalCurrency.moneyFormats[d].money_with_currency_format&&(a=window.DoublyGlobalCurrency.moneyFormats[d].money_with_currency_format);else if(null!=window.Currency&&window.Currency.convert){if(window.pb_currency_converter)return window.pb_currency_converter.getConvertedPrice(r*e*100);(c=window.Currency.convert(r,o,d))&&(r=c),null!=window.Currency.moneyFormats&&null!=window.Currency.moneyFormats[d]&&null!=window.Currency.moneyFormats[d].money_with_currency_format&&(a=window.Currency.moneyFormats[d].money_with_currency_format)}var c,n=g.convertNumberToPrice(r*e,a);return n?null!=window.GemCurrency&&null!=window.GemCurrency.moneyFormats&&null!=window.GemCurrency.moneyFormats[d]&&null!=window.GemCurrency.moneyFormats[d].money_with_currency_format&&null!=o&&null!=d?window.GemCurrency.moneyFormats[d].money_with_currency_format.replace(/{{.*}}/g,n):null!=window.DoublyGlobalCurrency&&null!=window.DoublyGlobalCurrency.moneyFormats&&null!=window.DoublyGlobalCurrency.moneyFormats[d]&&null!=window.DoublyGlobalCurrency.moneyFormats[d].money_with_currency_format&&null!=o&&null!=d?window.DoublyGlobalCurrency.moneyFormats[d].money_with_currency_format.replace(/{{.*}}/g,n):g.checkHasMlvedaCurrency()?(d=window.ACSCurrency.currentCurrency,c=window.ACSCurrency.format,window.ACSCurrency.moneyFormats[d][c].replace(/{{.*}}/g,n)):i.replace(t,n):i}return i},this.setPriceWithQuantity=function(t){(null==t||parseFloat(t)<1)&&(t=1);var e,a=g.findParentProduct(),n=a.attr("data-current-variant"),a=a.find("#gf-hidden-variant"+n),n=void 0;try{window.parent.jQuery("#gfFrame").attr("data-money")&&(n=window.parent.jQuery("#gfFrame").attr("data-money"))}catch(t){}a=null!=a&&0<a.length?(e=a.attr("data-price"),a.attr("data-compare-price")):(e=f.find(h).attr("data-price"),"none"!=f.find(p).css("display")?f.find(p).attr("data-price"):"");var i=g.getUpdatePrice(e,t,n,h);return g.setPrice(i),a&&""!=a?(i=g.getUpdatePrice(a,t,n,p),f.find(p).show(),g.setComparePrice(i)):f.find(p).hide(),g.setPercentDiscount(e,a),null!=window.conversionBearAutoCurrencyConverter&&window.conversionBearAutoCurrencyConverter.convertPricesOnPage(),!1},this.appendCurrency=function(t,e){var e=f.find(".gf_product-prices").attr("data-oldformat")||e,a=/{{.+}}/i;if(!e||!a.test(e))return t;t=t.replace(/&#\d+;/g,"");var n=/(\d|\.|,|')+/i,n=(n.test(t)&&(t=n.exec(t)[0]),f.find(h).attr("data-currency"));if(null!=(n=null==(n=null==(n=null==(n=null==n?f.find(h).find(".money").attr("data-currency"):n)&&null!=window.GemCurrency?window.GemCurrency.currentCurrency:n)&&null!=window.DoublyGlobalCurrency?window.DoublyGlobalCurrency.currentCurrency:n)&&null!=window.Currency?window.Currency.currentCurrency:n))if(g.settings.displayCurrency){if(window.GemCurrency&&window.GemCurrency.moneyFormats&&window.GemCurrency.moneyFormats[n]&&window.GemCurrency.moneyFormats[n].money_with_currency_format)return window.GemCurrency.moneyFormats[n].money_with_currency_format.replace(a,t);if(window.DoublyGlobalCurrency&&window.DoublyGlobalCurrency.moneyFormats&&window.DoublyGlobalCurrency.moneyFormats[n]&&window.DoublyGlobalCurrency.moneyFormats[n].money_with_currency_format)return window.DoublyGlobalCurrency.moneyFormats[n].money_with_currency_format.replace(a,t);if(window.Currency&&window.Currency.moneyFormats&&window.Currency.moneyFormats[n]&&window.Currency.moneyFormats[n].money_with_currency_format)return window.Currency.moneyFormats[n].money_with_currency_format.replace(a,t)}else{if(window.GemCurrency&&window.GemCurrency.moneyFormats&&window.GemCurrency.moneyFormats[n]&&window.GemCurrency.moneyFormats[n].money_format)return window.GemCurrency.moneyFormats[n].money_format.replace(a,t);if(window.DoublyGlobalCurrency&&window.DoublyGlobalCurrency.moneyFormats&&window.DoublyGlobalCurrency.moneyFormats[n]&&window.DoublyGlobalCurrency.moneyFormats[n].money_format)return window.DoublyGlobalCurrency.moneyFormats[n].money_format.replace(a,t);if(window.Currency&&window.Currency.moneyFormats&&window.Currency.moneyFormats[n]&&window.Currency.moneyFormats[n].money_format)return window.Currency.moneyFormats[n].money_format.replace(a,t)}return e.replace(a,t)}):(this.initWithVariant=function(t){if(!v.isEmptyObject(t)&&!v.isEmptyObject(t)){var e=g.findParentProduct().find("#gf-hidden-variant"+t.id);if(null!=e&&0<e.length){var a=e.attr("data-price");g.setPrice(a),null!=e.attr("data-compare-price")&&""!=e.attr("data-compare-price")?(n=e.attr("data-compare-price"),f.find(p).show(),g.setComparePrice(n)):f.find(p).hide(),g.setPercentDiscount(a,n)}else{var n,e=void 0;try{window.parent.jQuery("#gfFrame").attr("data-money")&&(e=window.parent.jQuery("#gfFrame").attr("data-money"))}catch(t){}null!=e&&(a=Shopify.formatMoney(t.price,e),g.setPrice(a),(n=Shopify.formatMoney(t.compare_at_price,e))?(f.find(p).show(),g.setComparePrice(n)):f.find(p).hide(),g.setPercentDiscount(a,n))}}return!1},this.setPercentDiscount=function(t,e){var a,n,i=f.find(".gf_pq-discount-selector");if(t==e)f.find(p).hide(),i.hide();else if(e&&t&&0<i.length)try{t=(t=t.match(/\d/g)).join(""),t=parseFloat(t),e=(e=e.match(/\d/g)).join(""),(e=parseFloat(e))&&0<e?(a=(a=(a=e-t)/e*100).toFixed(0),n=i.find(".gf_pq-percent"),i.show(),n.html(a+"%")):i.hide()}catch(t){i.hide()}else 0<i.length&&i.hide()},this.setPrice=function(t){e=f.find(h).children("span").hasClass("money")?"<span class=money>"+t+"</span>":t;var e,a,n,i,r,o=f.find(h);return null==window.Currency||null==o.attr("data-currency")||""==o.attr("data-currency")||(a=o.attr("data-oldcurrency"),null==(n=null==(n=null==(n=null==(n=f.find(h).attr("data-currency"))?f.find(h).find(".money").attr("data-currency"):n)&&null!=window.GemCurrency?window.GemCurrency.currentCurrency:n)&&null!=window.DoublyGlobalCurrency?window.DoublyGlobalCurrency.currentCurrency:n)&&null!=window.Currency&&(n=window.Currency.currentCurrency),i=o.attr("data-oldformat"),null==a)||null==n||null==i?o.attr("data-price",t).html(e):(t=window.Currency.moneyFormats[a][i||window.Currency.format]||"{{amount}}",i=window.Currency.moneyFormats[n][i||window.Currency.format]||"{{amount}}",r=0,null!=window.Currency.convert&&(r=-1!==t.indexOf("amount_no_decimals")?window.Currency.convert(100*parseInt(e.replace(/[^0-9]/g,""),10),a,n):"JOD"===a||"KWD"==a||"BHD"==a?window.Currency.convert(parseInt(e.replace(/[^0-9]/g,""),10)/10,a,n):window.Currency.convert(parseInt(e.replace(/[^0-9]/g,""),10),a,n)),t=window.Currency.formatMoney(r,i),o.attr("data-currency-"+n,t).attr("data-price",t).html(t)),!1},this.setComparePrice=function(t){var e=(e=t.match(/\.|\d/g)).join("");return(e=parseFloat(e))&&0<e?(e=f.find(p).children("span").hasClass("money")?"<span class=money>"+t+"</span>":t,f.find(p).show(),f.find(p).attr("data-price",t).html(e).show()):f.find(p).hide(),!1},this.setPriceWithQuantity=function(n){(null==n||parseFloat(n)<1)&&(n=1);var i,e,t,a=void 0;try{window.parent.jQuery("#gfFrame").attr("data-money")&&(a=window.parent.jQuery("#gfFrame").attr("data-money"))}catch(t){}return null!=a?null!=(t=f.find(h).attr("data-price"))&&(t=Number(t.replace(/[^0-9\.-]+/g,"")),(t*=parseFloat(n))%1!=0&&(t=t.toFixed(2)),t=Shopify.formatMoney(t.toString(),a),f.find(h).html(t)):(0<(i=f.find(h).find(".money")).length&&""==r&&(r=i.text()),e=function(t){var e=Number(t.replace(/[^0-9\.-]+/g,"")),a=(a=(e=e.toFixed(2))*parseFloat(n)).toFixed(2).toString(),e=(t=t.replace(e,a)).split(".");3<=e.length&&(e.pop(),t=e.join(".")),0<i.length?i.text(t):f.find(h).html(t)},0<i.length?e(r):(t=f.find(h).attr("data-price"),e(t)),0<v(".doubly-wrapper").length&&v(".doubly-wrapper").find("li").off("click.currency").on("click.currency",function(){setTimeout(function(){var t=f.find(h).find(".money");0<t.length?(r=t.text(),e(r)):(t=f.find(h).attr("data-price"),e(t))},100)}),null!=window.Currency&&null!=(a=f.find(h).attr("data-currency"))&&null!=(t=f.find(h).attr("data-currency-"+a.toLowerCase()))&&""!=t&&e(t)),!1}),this.findParentProduct=function(){var t=f.closest('[data-label="Product"]').children(".module");return t=0==t.length?f.closest('[data-icon="gpicon-product"]').children(".module"):t},this.getUpdatePrice=function(t,e,a,n){if(window.GEMSTORE){var i=window.GEMSTORE.getState("product-"+w+"updatePrice");if(i)return r=i(t,e,a,n)}var r=g.calculatePriceByQuantity(t,e,a,n);return g.checkHasMlvedaCurrency()?r:g.appendCurrency(r,a)},this.getPriceNumber=function(t,e){var e=f.find(".gf_product-prices").attr("data-oldformat")||e||"{{ amount }}",t=(t=t.replace(/\s/g,""),/(\d|,|\.|')+/g.exec(t));return t&&t.length&&(t=t[0],g.convertPriceToNumber(t,e))||!1},this.checkHasMlvedaCurrency=function(){return!(!window.ACSCurrency||!window.ACSCurrency.currentCurrency)},this.dynamicCurrencyUpdatePrice=function(t,e,a,n){var i="",r=g.findParentProduct();return null!=r.data("gfv3product")&&void 0!==(r=r.data("gfv3product").getVariant()).price&&void 0!==r.compare_at_price&&(n==h&&(i=r.price),n==p&&(i=r.compare_at_price),"dev"==l)&&(i*=100),""===i&&!1!==(i=g.getPriceNumber(t,a))&&(i*=100),""!==i?(r=pb_currency_converter.getConvertedPrice(i*e),n&&(t=f.find(n+" .pb_converted_currency")).length&&(a=t.attr("pb-currency"),t.attr("pb-amount-original",i*e),t.attr("pb-currency-"+a,r)),r):""},this.dynamicCurrencySetup=function(){window.GEMSTORE&&pbQuery&&(window.GEMSTORE.dispatch("product-"+w+"updatePrice",g.dynamicCurrencyUpdatePrice),pbQuery("body").on("change",'[name="PB_Currency_select"]',function(){var t=pbQuery(this).val();1===currencyConfig.multiCurrency&&-1!=window.shopifyMultiCurrencies.indexOf(t)?pb_currency_converter.multiCurrency(t,!0):window.GEMSTORE.dispatch("changeCurrency")}));var t=g.findParentProduct();t.find('.gf_module[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity")?t.find('.gf_module[data-label="(P) Quantity"]').children(".module").data("gfv3productquantity").updatePrice():g.setPriceWithQuantity(1)},this.subscribeChangeCurrency=function(){window.GEMSTORE&&window.GEMSTORE.subscribe("changeCurrency",function(){var t=g.findParentProduct();null!=t.data("gfv3product")&&(t=t.data("gfv3product").getVariant(),g.initWithVariant(t))})},this.init()},v.fn.gfV3ProductPrice=function(e){return this.each(function(){var t;null==v(this).data("gfv3productprice")&&(t=new v.gfV3ProductPrice(this,e),v(this).data("gfv3productprice",t))})}}(window.GemQuery||jQuery),function(p){p.gfV3ProductCartButton=function(t,d){var c,s={onItemAdded:function(t){}},g=(this.settings={},p(t)),h=this,l="";this.init=function(){this.settings=p.extend({},s,d);var a,t,e,n,i,r,f=h.findParentProduct(),o=g.closest('[data-label="Product"]');return o&&o.length&&o.attr("id")&&(l=o.attr("id")),null!=f.data("gfv3product")&&(o=f.data("gfv3product").getVariant(),h.initWithVariant(o)),(a=0<g.find(".gf_add-to-cart").length?g.find(".gf_add-to-cart"):g.find('button[type="submit"]'))&&0<a.length&&(o="click.cart",window.GEMSTORE&&window.GEMSTORE.checkKeyValid("clickAddToCart")&&(o="click.cart touchend.cart"),a.on(o,function(){h.triggerAddToCartClick();var o,d,c,s,t,l,u,e=g.find(".gf_add-to-cart");if(0<e.length){if(e.hasClass("gf_button-soldout"))return!1}else if(g.attr("data-soldouttext")==a.text())return!1;if("1"==g.attr("data-ajaxCart"))return 0<(e=f.children("form")).length&&!e.get(0).reportValidity()&&0<e.find(".gf_textfield[required], .gf_textarea[required], .gf_checkbox[required], .gf_file-upload input[required]").length||(o=null!=g.attr("data-cbTo")?g.attr("data-cbTo").toLowerCase():"",d=null!=g.attr("data-editLink")?p.trim(g.attr("data-editLink")):"",e=p.trim(g.attr("data-ajaxText")),c=p.trim(g.attr("data-thankyouText")),s="",null!=g.attr("data-successMessage")&&(s=(s=p.trim(g.attr("data-successMessage"))).replace(/\[+([^\][]+)]+/g,function(t,e,a){var n;if(e.match("="))return n=(e=e.split("="))[0],e=e[1],"cart"==p.trim(n.replace("label","")).toLowerCase()?'<a href="/cart">'+e+"</a>":"continue"==p.trim(n.replace("label","")).toLowerCase()?""!=(n=null!=g.attr("data-continue")?g.attr("data-continue"):"")?'<a href="'+n+'">'+e+"</a>":'<a href="/collections/all">'+e+"</a>":void 0})),t=!1,(t=null!=f.data("gfv3product")?f.data("gfv3product").checkPassBlankOption():t)&&(l=p(this),u=l.text(),null!=e&&l.text(e),null!=f.data("gfv3product"))&&f.data("gfv3product").addItemToCart(function(t){if("404"==t.status)setTimeout(function(){l.text(t.message),setTimeout(function(){l.text(u)},1e3)},300);else{switch(o){case"checkout":d="/checkout";break;case"cart":d="/cart"}if(null!=d&&""!=d)if(window.SOLID&&window.SOLID.store&&window.SOLID.cart)switch(o){case"checkout":return void gfEcomSolid.goToCheckoutWithDiscount();case"cart":gfEcomSolid.checkCartDrawer()?gfEcomSolid.openCartDrawer(t):window.location.href=d;break;default:window.location.href=d}else window.location.href=d;if(setTimeout(function(){null!=c&&l.text(c),setTimeout(function(){l.text(u),""!=s&&(0<l.next(".ajaxified-cart-feedback").length?l.next(".ajaxified-cart-feedback").removeClass("error").addClass("success").children("span").html(s):l.after('<p class="ajaxified-cart-feedback success"><i class="fa fa-check"></i><span>'+s+"</span></p>"))},1e3)},300),l.hasClass("gf_pcartbutton-nocartdrawer"));else{function e(e){p.ajax({method:"GET",url:"/cart.js",dataType:"json"}).then(function(t){e(t)})}try{window.store&&void 0!==window.store.update&&e(function(t){window.store.update("cart.item_count",t.item_count)}),gfEcomSolid.openCartDrawer(t)}catch(t){console.log(t)}try{if(0<p(i='header a[href="/cart"] .site-header__cart-bubble').length){p(i).addClass("site-header__cart-bubble--visible");try{yc&&e(function(t){yc._triggerChangeEvent(t)})}catch(t){console.log(t)}}}catch(t){console.log(t)}try{0<p(".header__cart-count").length&&e(function(t){null!=p(".mini-cart").data("plugin_trademarkMiniCart")?p(document).trigger("theme:cart:updated",[t,!0,!0]):0<p(".header__cart-count cart-count").length?(document.documentElement.dispatchEvent(new CustomEvent("cart:change",{bubbles:!0,detail:{baseEvent:"variant:add",cart:t}})),document.documentElement.dispatchEvent(new CustomEvent("cart:refresh",{bubbles:!0}))):p(".header__cart-count").text(t.item_count)})}catch(t){console.log(t)}try{0<p(".site-header a.site-header__cart .icon__fallback-text").length&&e(function(t){0<p(".site-header a.site-header__cart #CartCount").length?p(".site-header a.site-header__cart #CartCount > span:first").html(t.item_count):(t='<div id="CartCount" class="site-header__cart-count"><span>'+t.item_count+'</span><span class="icon__fallback-text medium-up--hide">item</span></div>',p(".site-header a.site-header__cart .icon__fallback-text").after(t))})}catch(t){console.log(t)}try{0<p("header a#CartButton #CartCount").length&&0<p("header a#CartButton #CartCost").length&&e(function(t){p("header a#CartButton #CartCount").html(t.item_count),StyleHatch&&StyleHatch.currencyFormat&&(t=Shopify.formatMoney(t.total_price,StyleHatch.currencyFormat),p("header a#CartButton #CartCost").html(t))})}catch(t){console.log(t)}try{if(0<p(i='header.site-header .cart-link[aria-controls="CartDrawer"]').length&&0<p("#CartDrawer").length)try{window.ajaxCart.load()}catch(t){}}catch(t){console.log(t)}try{var a,n=(i="#shopify-section-header .Header__Wrapper .Header__SecondaryNav")+' a[href="/cart"] .Header__CartCount';0<p(a=i+' a[data-action="open-drawer"] .Header__CartCount').length?(e(function(t){p(a).html(t.item_count)}),p.ajax({method:"GET",url:"/cart?view=drawer&timestamp="+Date.now(),dataType:"html"}).then(function(t){var t=p(t),e=p("#sidebar-cart");e.html(t.html()),e.attr("aria-hidden","false"),e.find(".Drawer__Close.Icon-Wrapper--clickable").on("click",function(){return e.attr("aria-hidden","true"),!1})})):0<p(n).length&&e(function(t){p(n).html(t.item_count)})}catch(t){console.log(t)}try{0<p('header a[href="/cart"].topBar__cart.mini_cart span.topBar__cartCount.cart_count').length&&e(function(t){Theme.cart.refreshMiniCart(t)})}catch(t){console.log(t)}try{0<p('header.site-header .site-nav a[aria-controls="CartDrawer"] > .cart-link > .cart-link__bubble').length&&p("body").trigger("added.ajaxProduct")}catch(t){console.log(t)}try{var i,r="header.site-header .site-header__cart-toggle";0<p(i=r+" > .header--supporting-text > .cart-item-count-header").length&&(p(r).trigger("click"),e(function(t){p(i).html(t.item_count)}))}catch(t){console.log(t)}"1"==(a=g.attr("data-sideCart"))&&(0<p(".site-header li.cart-text-link > a.CartToggle").length&&p(".site-header li.cart-text-link > a.CartToggle").trigger("click"),0<p('header a[href="/cart"].ajax-cart__toggle').length)&&p('header a[href="/cart"].ajax-cart__toggle').click()}h.settings.onItemAdded(t)}},function(t){t&&t.responseJSON&&t.responseJSON.description&&(t=t.responseJSON.description,0<l.next(".ajaxified-cart-feedback").length?l.next(".ajaxified-cart-feedback").removeClass("success").addClass("error").children("span").html(t):l.after('<p class="ajaxified-cart-feedback error"><i class="fa fa-check"></i><span>'+t+"</span></p>")),setTimeout(function(){l.text(u)},1e3)})),!1}),null!=(t=g.parent(".module-wrap")).data("timer")&&clearTimeout(t.data("timer")),e=p.trim(g.attr("data-effect")),n=p.trim(g.attr("data-ani")),null!=e&&""!=e&&"default"!=e?(i=p.trim(g.attr("data-interval")),(r=function(){a.addClass(e),a.addClass(n),setTimeout(function(){a.removeClass(e),a.removeClass(n)},820),c=setTimeout(r,i),t.data("timer",c)})()):(a.removeClass(e),a.removeClass(n))),!1},this.triggerAddToCartClick=function(){window.GEMSTORE&&window.GEMSTORE.dispatch("product-"+l+"-addtocart-click",t)},this.initWithVariant=function(t){return p.isEmptyObject(t)?h.changeStatus(!1):h.changeStatus(t.available),!1},this.changeStatus=function(t){var e=0<g.find(".gf_add-to-cart").length?g.find(".gf_add-to-cart"):g.find('button[type="submit"]'),a=g.attr("data-text"),n=g.attr("data-soldouttext");return t?(g.find("button .AddToCartText").text(a),g.css("opacity",1),e.removeClass("gf_button-soldout")):(0<g.find("button .AddToCartText").length?g.find("button .AddToCartText").text(n):g.find("button").html('<span class="AddToCartText">'+n+"</span>"),g.css("opacity",.5),e.addClass("gf_button-soldout")),!1},this.findParentProduct=function(){var t=g.closest('[data-label="Product"]').children(".module");return t=0==t.length?g.closest('[data-icon="gpicon-product"]').children(".module"):t},this.init()},p.fn.gfV3ProductCartButton=function(e){return this.each(function(){var t;null==p(this).data("gfv3productcartbutton")&&(t=new p.gfV3ProductCartButton(this,e),p(this).data("gfv3productcartbutton",t))})}}(window.GemQuery||jQuery),function(o){o.gfV3ProductImage=function(t,e){var s,a={zoom:"0",displayType:"percentage",magnify:1},l=(this.settings={},o(t)),u=this,n="";this.init=function(){this.settings=o.extend({},a,e),window._gpProductImageIndex||(window._gpProductImageIndex=0),u.applyZoom();l.append('<div class="gf_image-loading-wrap"><div class="gf_image-loading"><div></div><div></div><div></div><div></div></div></div>'),s=l.find(".gf_image-loading-wrap");var t=u.findParentProduct();return u.setFirstVideo(),null!=t.data("gfv3product")&&(t=t.data("gfv3product").getVariant(),u.initWithVariant(t,!0),u.listenVariantChange()),"1"==l.attr("data-badgemod")&&u.subscribeSettingBadgeChange(),n=this.findWrapProductId(),this.subscribeMediaData(),!1},this.listenVariantChange=function(){var t=u.findWrapProductId();window.GEMSTORE&&window.GEMSTORE.subscribe("product-"+t+"-variant",u.changeVariantFunction)},this.changeVariantFunction=function(t){var e,a=u.findParentProduct(),n=u.findWrapProductTitle();t&&t.id&&(e="",(t=t.featured_image)?!(e=t.alt)&&null==e||a.find("img.gf_product-image").attr("alt",e):a.find("img.gf_product-image").attr("alt",n))},this.findPImageModule=function(){var t=l.closest('[data-label="(P) Image"]');return t=0==t.length?l.closest('[data-icon="gpicon-product-image"]'):t},this.findPpriceModule=function(){var t=this.findParentProduct(),e=t.find('[data-label="(P) Price"]');return e=0==e.length?t.find('[data-icon="gpicon-product-price"]'):e},this.subscribeSettingBadgeChange=function(){var t=u.findParentProduct(),t=(null!=t.data("gfv3product")&&(t=t.data("gfv3product").getVariant(),u.changeBadgeSettingsFunction(t)),this.findWrapProductId());window.GEMSTORE&&0<u.findPImageModule().length&&window.GEMSTORE.subscribe("product-"+t+"-variant",u.changeBadgeSettingsFunction)},this.changeBadgeSettingsFunction=function(t){if(t&&t.id){var e=parseFloat(t.price),a=parseFloat(t.compare_at_price),n=u.findPImageModule(),i=n.find(".gf_badge-text-wrap").find(".data-saleoffvalue"),r=n.find(".gf_badge-text-wrap").find(".data-saleoffunit"),o="";if(a&&0<a){var d=(d=a-e)/a*100;switch(d=(d=Math.abs(d)).toFixed(0),u.settings.displayType){case"percentage":o=d,r.html("%"),i.html(o);break;case"number":var c=u.findPpriceModule().find(".gf_product-prices").attr("data-oldformat")||"{{ amount }}",s=u.findParentProduct().find("#gf-hidden-variant"+t.id),s=(null!=s&&0<s.length?(e=s.attr("data-price"),null!=s.attr("data-compare-price")&&""!=s.attr("data-compare-price")&&(a=s.attr("data-compare-price"))):(e=t.price/100,a=t.compare_at_price/100),a=u.convertPriceToNumber(a,c),e=u.convertPriceToNumber(e,c),Math.abs(a-e)),o=u.convertNumberToPrice(s,c);isNaN(s)||i.html(o)}i.show()}else i.hide()}},this.convertPriceToNumber=function(t,e){t=(t=t).replace(/\s/g,"");t=-1!=e.indexOf("amount_with_apostrophe_separator")?t.replace(/'/g,""):-1!=e.indexOf("amount_with_comma_separator")?t.replace(/\./g,"").replace(",","."):-1!=e.indexOf("amount_no_decimals_with_comma_separator")?t.replace(/\./g,""):(e.indexOf("amount_no_decimals"),t.replace(/,/g,""));try{return parseFloat(t)}catch(t){return null}},this.convertNumberToPrice=function(t,e){for(var a=l.attr("data-round-decimals")||"0",n=".",i=",",r=(t=-1!=e.indexOf("amount_no_decimals_with_comma_separator")||-1!=e.indexOf("amount_no_decimals")?t.toFixed(0):t.toFixed(2)).split(".")[0],a="1"==a?_roundTo:t.split(".")[1],o=(-1!=e.indexOf("amount_with_apostrophe_separator")?i="'":-1!=e.indexOf("amount_with_comma_separator")?(n=",",i="."):-1!=e.indexOf("amount_no_decimals_with_comma_separator")?(n="",i="."):-1!=e.indexOf("amount_no_decimals")&&(n=""),0),d="",c=r.length-1;0<=c;c--)d=r[c]+d,++o%3==0&&0!=c&&(d=i+d);return""==n?d:d+n+a},this.initWithVariant=function(t,e){var a,n;return"first"==l.attr("data-image-type")&&e||null!=(t=u.getVariantImage(t))&&""!=t&&(a=t.split("?")[0].split(".").pop(),n=replaceImageToSize(t,"2048x2048"),e&&-1==t.indexOf("_120x120."+a)&&l.find(".gf_product-image").hasClass("gf_lazyload")&&(t=replaceImageToSize(t,"120x120")),u.setImage(t,n,"",e)),!1},this.getVariantImage=function(t){var e="",a=u.findParentProduct();if(0<a.find(".product-json").length)null!=t.featured_image&&null!=t.featured_image.src&&(e=t.featured_image.src);else try{var n=a.attr("data-pid");if(null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor")){var i=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(n);null!=i.images[0]&&(e=i.images[0].src);for(var r=0;r<i.images.length;r++)if(-1!==o.inArray(t.id,i.images[r].variant_ids)){null!=i.images[r]&&(e=i.images[r].src);break}}}catch(t){console.log(t.message)}return e},this.setFirstVideo=function(){var t=l.find(".gf_first_video");if(t.length){for(var e="gf_image-item-"+window._gpProductImageIndex,a=t.find("video"),n=(window._gpProductImageIndex++,window.gfCurrentVideoPlayer=e,window.gfListVideoPlayer&&(window.gfListVideoPlayer[e]=a),t.attr("id",e),a.attr("id",e+"-video"),t.find("source")),a=t.attr("data-source")||"",i=n.length,r=new Array(i),o=0;o<i;o++){var d=n[o];r[o]={src:d.getAttribute("src"),type:d.getAttribute("type")}}u.showVideo(a,"video",{sources:r})}},this.setImage=function(e,t,a,n){var i="",i=a||"",a=(window.GEMMEDIA&&window.GEMMEDIA.pauseCurrentVideo(),s.addClass("active"),l.attr("data-ori-size")),r=e&&["cdn.shopify.com/s/files/","apps.shopifycdn.com/","/cdn/shop/"].some(t=>e.includes(t)),o=e&&-1!=e.indexOf("ucarecdn.com/"),o=(null!=a&&""!=a&&(o||r)&&(r=(r=(r=((o=e&&["cdn.shopify.com/","apps.shopifycdn.com","/cdn/shop/"].some(t=>e.includes(t)))?/_\d+x\d*\.(png|jpg|jpe|bmp|gif|web|bpg)/i:/preview\/\d+x?\d*/i).exec(e))&&(o?r[0].slice(1,-4):r[0].slice(8)))||"0x0",e=0!=parseInt(r.split("x"))?e.replace(r,a):replaceImageToSize(e,a)),null!=l.data("gfzoom")?l.data("gfzoom").initZoom(e,t):(l.find('img.gf_product-image:not(".gf_product-image-hover")').attr("src",e).attr("data-zoom",t),i&&l.find('.gf_product-image:not(".gf_product-image-hover")').attr("alt",i)),n||(l.find("model-viewer").remove(),l.find("video.gf_video-only").remove()),l.find(".gf_image-item"));return o.hasClass("gf_first_video")&&n||(o.addClass("gf_hidden-important"),o.css("opacity",0)),n||((r=l.find(".gf_featured-image")).removeClass("gf_hidden-important"),r.css("opacity",1),s.removeClass("active")),!1},this.showVideo=function(t,e,a){if("image"!=e){a=a||{};var n,i=l,r=(l.find("model-viewer").length&&l.find("model-viewer").remove(),i.find('[data-src="'+t+'"]'));if(a.host&&a.videoId&&(r=i.find('[data-video-id="'+a.videoId+'"]')),(r=a.sources&&a.sources[0]&&a.sources[0].src?i.find('[data-source="'+a.sources[0].src+'"]'):r).length?n=r.attr("id"):(n="gf_image-item-"+window._gpProductImageIndex,window._gpProductImageIndex++,d='<div id="'+n+'" class="gf_image-item '+(o="gf_image-video")+'" data-src="'+t+'"></div>',a.host&&a.videoId&&(d='<div id="'+n+'" class="gf_image-item '+o+'" data-video-id="'+a.videoId+'"></div>'),a.sources&&a.sources[0]&&a.sources[0].src&&(d='<div id="'+n+'" class="gf_image-item '+o+'" data-source="'+a.sources[0].src+'"></div>'),i.append(d),r=i.find("#"+n)),window.GEMMEDIA&&window.GEMMEDIA.pauseCurrentVideo(),i&&0<i.length)if(s.addClass("active"),r.css({position:"absolute",top:"0",left:"0"}),r.attr("data-loaded"))this.showWhenVideoLoaded(n),window.gfCurrentVideoPlayer=n,window.GEMMEDIA&&window.GEMMEDIA.playCurrentVideo();else{if(r.attr("data-loading"))return;r.attr("data-loading",1);var o=t;if(o&&-1!=o.indexOf("vimeo.com/"))return void window.GEMMEDIA.loadVimeo(n,o,function(){u.showWhenVideoLoaded(n)});if(o&&(-1!=o.indexOf("youtu.be")||-1!=o.indexOf("youtube.com")))return c="",void((c=(c=-1!=o.indexOf("youtu.be/")?o.split("youtu.be/"):o.split(/watch\?v=/))&&null!=c[1]?c[1].split(/&/)[0]:c)&&window.GEMMEDIA.loadYoutube(n,c,function(){u.showWhenVideoLoaded(n)}));var d=a.host,c=a.videoId;if(!o&&"youtube"==d&&c)return void window.GEMMEDIA.loadYoutube(n,c,function(){u.showWhenVideoLoaded(n)});if(!o&&"vimeo"==d&&c)return void window.GEMMEDIA.loadVimeo(n,c,function(){u.showWhenVideoLoaded(n)});if(!o&&"video"==e)return void window.GEMMEDIA.newHtml5Video(n,a.sources,function(){u.showWhenVideoLoaded(n)})}return!1}},this.show3dImage=function(t,e){var a=l.find(".gf_product-3DImage"),e="<model-viewer class='gf_product-image gf_featured-image gf_product-3DImage' poster='"+e+"' src='"+t+"' auto-rotate camera-controls ar-status='not-presenting'></model-viewer>";a.length?a.replaceWith(e):l.find(".gf_product-image:not('.gf_product-image-hover')").before(e),$gfProductImageElement=l.find("img.gf_product-image"),l.find(".gf_product-3DImage").css({height:$gfProductImageElement.height(),width:$gfProductImageElement.width()}),l.find("img.gf_product-image, .gf_image-item").addClass("gf_hidden-important")},this.subscribeMediaData=function(){window.GEMSTORE&&window.GEMSTORE.subscribe("gemActiveMediaData-"+n,function(t){t.type&&"image"!=t.type?"model"==t.type?l.find('.gf_product-3DImage[src="'+t.url+'"]').length||(u.setImage(t.data.imageUrl,"",""),u.show3dImage(t.url,t.data.imageUrl)):u.showVideo(t.url,t.type,t.data):u.setImage(t.url,t.data.imageZoomUrl,t.data.imageAlt)})},this.onChangeVariant=function(){_isDynamic&&window.GEMSTORE&&window.GEMSTORE.subscribe("gemProductVariant",function(t){u.setVariant(t)})},this.showWhenVideoLoaded=function(t){var e=l.find(".gf_image-item, .gf_product-image"),a=$("#"+t);a.attr("data-loaded",1),a.removeAttr("data-loading"),e.addClass("gf_hidden-important"),a.removeClass("gf_hidden-important"),e.css("opacity",0),a.css({opacity:1,position:"static"}),s.removeClass("active"),null!=l.data("gfzoom")&&l.data("gfzoom").destroy(),window.gfCurrentVideoPlayer=t,window.GEMMEDIA&&window.GEMMEDIA.playCurrentVideo()},this.applyZoom=function(t){var e=u.settings.zoom,a=u.settings.magnify,n=u.settings.effect;return"1"!=e&&"zoom"!=n||l.gfZoom({magnify:a}),!1},this.findWrapProductId=function(){var t=l.closest('[data-label="Product"]');return(t=0==t.length?l.closest('[data-icon="gpicon-product"]'):t).attr("id")||""},this.findParentProduct=function(){var t=l.closest('[data-label="Product"]').children(".module");return t=0==t.length?l.closest('[data-icon="gpicon-product"]').children(".module"):t},this.findWrapProductTitle=function(){var t=l.closest('[data-label="Product"]'),e="";return e=0<t.length&&0<(t=t.find('[data-label="(P) Title"]')).length?t.text():e},this.init()},o.fn.gfV3ProductImage=function(e){return this.each(function(){var t;null==o(this).data("gfv3productimage")&&(t=new o.gfV3ProductImage(this,e),o(this).data("gfv3productimage",t))})}}(window.GemQuery||jQuery),function(f){f.gfV3ProductImageList=function(t,e){var a={onImageClicked:function(t,e){}},d=(this.settings={},f(t)),c=this,s="0",l=1,u=0;this.init=function(){return this.settings=f.extend({},a,e),1==parseInt(d.attr("data-support-video"))&&c.initVideo(),c.applyEvents(),s=void 0!==d.attr("data-borderactive")?d.attr("data-borderactive"):"0",c.initActiveImage(),l=parseInt(d.attr("data-sync-il"))||1,u=parseInt(d.attr("data-sync-il-xs"))||1,setTimeout(function(){c.preload(),d.gfV3Lightbox()},100),!1},this.gotoIndex=function(t){var e;return 1==d.data("loop")&&0<(e=t-d.find(".owl-item.cloned").length/2)&&(t=e),d.find(".gf_product-images-list").trigger("to.owl.carousel",[t,250,!0]),!1},this.gotoThumb=function(t){if(null!=(e=c.getVariantImage(t))&&""!=e){for(var t=e.split("?")[0].split("."),e=(t.pop(),t.pop()),a=0,n=0;n<d.find(".owl-item:not(.cloned) .gf_product-image-thumb").length;n++)if(-1!=d.find(".owl-item:not(.cloned) .gf_product-image-thumb").eq(n).attr("src").indexOf(e)){a=n;break}d.find(".gf_product-images-list").trigger("to.owl.carousel",[a,250,!0])}return!1},this.getVariantImage=function(t){var e="",a=c.findParentProduct();if(0<a.find(".product-json").length)null!=t.featured_image&&null!=t.featured_image.src&&(e=t.featured_image.src);else try{var n=a.attr("data-pid");if(null!=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor")){var i=window.parent.jQuery("#gfFrame").contents().find(".gryffeditor").data("gryffeditor").searchProductInList(n);null!=i.images[0]&&(e=i.images[0].src);for(var r=0;r<i.images.length;r++)if(-1!==f.inArray(t.id,i.images[r].variant_ids)){null!=i.images[r]&&(e=i.images[r].src);break}}}catch(t){console.log(t.message)}return e},this.preload=function(){var e=[],a=0;return d.find(".gf_product-image-thumb").each(function(){var t=f(this).attr("data-zoom");null!=t&&(e[a]=new Image,e[a].src=t,a++)}),!1},this.initVideo=function(){d.find(".gf_product-video-thumb").each(function(){var t,e,a,n,i,r=f(this),o=r.attr("id"),d=r.attr("data-video");-1!=d.indexOf("vimeo.com/")?(t=function(){new Vimeo.Player(o,{url:d,loop:!1,autoplay:!1,title:!1,byline:!1})},a="https://player.vimeo.com/api/player.js",0==f(document).find("script[src^='"+a+"']").length?((n=document.createElement("script")).onload=function(){t()},(i=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,i),n.src=a):t()):(e=function(){new YT.Player(o,{videoId:video_id,playerVars:{autoplay:0,autohide:1,modestbranding:1,rel:0,showinfo:0,controls:1,disablekb:1,enablejsapi:0,iv_load_policy:3,hd:1},events:{}})},(video_id=-1!=d.indexOf("youtu.be/")?d.split("youtu.be/"):d.split(/watch\?v=/))&&null!=video_id[1]&&(video_id=video_id[1].split(/&/)[0]),a="https://www.youtube.com/iframe_api",0==f(document).find("script[src^='"+a+"']").length?((n=document.createElement("script")).onload=function(){e()},(i=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,i),n.src=a):e())})},this.initActiveImage=function(){var t,a;"1"!=s&&1!=s||null!=(t=c.findParentProduct()).data("gfv3product")&&(t=t.data("gfv3product").getVariant(),a=c.getVariantImage(t),d.find(".gf_product-image-thumb").each(function(){var t=f(this),e=t.attr("src");(e=(e=(e=(e=(e=e.replace("_100x100","")).replace("_240x240","")).replace("_480x480","")).replace("_1024x1024","")).replace("_2048x2048",""))==a&&t.closest("a").addClass("gf_product-image-thumbactive")}))},this.applyEvents=function(){return d.find(".gf_product-image-thumb").closest("a").off("click").on("click",function(){var t,e,a=f(this),n=(d.find(".gf_product-image-thumb").closest("a").removeClass("gf_product-image-thumbactive"),"1"!=s&&1!=s||a.addClass("gf_product-image-thumbactive"),a.find(".gf_product-image-thumb")),a=(t=(0<a.closest(".owl-item").length?a.closest(".owl-item"):a).index(),window.outerWidth),a=a<768?"xs":768<=a&&a<992?"sm":992<=a&&a<1200?"md":"lg",i=(1<(d.attr("data-col"+a)||1)&&1<t&&(t-=1),e=null!=n.attr("data-image")?n.attr("data-image"):n.attr("src"),n.attr("data-zoom")),r=n.attr("alt")||n.find("img").attr("alt")||"",o=c.findParentProduct();return 0<o.find('[data-label="(P) Image"]').length&&o.find('[data-label="(P) Image"]').each(function(){null!=f(this).children(".module").data("gfv3productimage")?f(this).children(".module").data("gfv3productimage").setImage(e,i,r):o.find("img.gf_product-image").attr("src",e).attr("data-zoom",i).attr("alt",r)}),0<o.find('[data-label="(P) Image List"]').length&&1==l&&(767<f(window).width()&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||1==u)?o.find('[data-label="(P) Image List"]').each(function(){null!=f(this).children(".module").data("gfv3productimagelist")&&f(this).children(".module").data("gfv3productimagelist").gotoIndex(t)}):c.gotoIndex(t),c.settings.onImageClicked(e,i),!1}),!1},this.findParentProduct=function(){var t=d.closest('[data-label="Product"]').children(".module");return t=0==t.length?d.closest('[data-icon="gpicon-product"]').children(".module"):t},this.init()},f.fn.gfV3ProductImageList=function(e){return this.each(function(){var t;null==f(this).data("gfv3productimagelist")&&(t=new f.gfV3ProductImageList(this,e),f(this).data("gfv3productimagelist",t))})}}(window.GemQuery||jQuery),function(f){f.gfV3Lightbox=function(t,e){var l,a=f(t),n={},u=(this.settings={},this);this.init=function(){this.settings=f.extend({},n,e);var r=void 0!==a.attr("data-gallery")?a.attr("data-gallery"):"0",t=void 0!==a.attr("data-galleryicon")?a.attr("data-galleryicon"):"0",o=void 0!==a.attr("data-spacing")?a.attr("data-spacing"):"5px";return a.find(".gf_product-image-hover-zoom").remove(),r&&"1"==r&&(u.initLightbox(),a.find(".gf_product-image-thumb").on("mouseenter",function(){var e,a=f(this),n=a.attr("data-video"),i=(""==n&&(n=void 0),a.next(".gf_product-image-hover-zoom"));0==i.length&&r&&"1"==r&&t&&"1"==t&&(e=Date.now()+Math.floor(100*Math.random()+1),a.attr("data-hover",e),i=f(null==n?'<div class="gf_product-image-hover-zoom" data-hover="'+e+'" style="position: absolute;top:0px;left:0px;background:rgba(0,0,0,0.2);width: calc(100% - '+o+");height: calc(100% - "+o+');display: flex;justify-content: center;align-items: center;"><svg width="24px" viewBox="0 0 512 512"><path fill="#fff" d="M312 196v24c0 6.6-5.4 12-12 12h-68v68c0 6.6-5.4 12-12 12h-24c-6.6 0-12-5.4-12-12v-68h-68c-6.6 0-12-5.4-12-12v-24c0-6.6 5.4-12 12-12h68v-68c0-6.6 5.4-12 12-12h24c6.6 0 12 5.4 12 12v68h68c6.6 0 12 5.4 12 12zm196.5 289.9l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L347.5 387.1c-2.3-2.3-3.5-5.3-3.5-8.5v-13.2c-36.5 31.5-84 50.6-136 50.6C93.1 416 0 322.9 0 208S93.1 0 208 0s208 93.1 208 208c0 52-19.1 99.5-50.6 136h13.2c3.2 0 6.2 1.3 8.5 3.5l121.4 121.4c4.7 4.7 4.7 12.3 0 17zM368 208c0-88.4-71.6-160-160-160S48 119.6 48 208s71.6 160 160 160 160-71.6 160-160z"></path></svg></div>':'<div class="gf_product-image-hover-zoom" data-hover="'+e+'" style="position: absolute;top:0px;left:0px;background:rgba(0,0,0,0.2);width: calc(100% - '+o+");height: calc(100% - "+o+');display: flex;justify-content: center;align-items: center;"><svg width="24px" viewBox="0 0 512 512"><path fill="#fff" d="M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6zm-16.2 55.1l-352 208C45.6 483.9 32 476.6 32 464V47.9c0-16.3 16.4-18.4 24.1-13.8l352 208.1c10.5 6.2 10.5 21.4.1 27.6z"></path></svg></div>'),a.after(i),i.off("click.gallery").on("click.gallery",function(){var t;r&&"1"==r&&(window.$itemThumbCurrent=f(this).parent().children(".gf_product-image-thumb"),null==n?(t=window.$itemThumbCurrent.attr("src"),u.showLightbox(t)):(t=window.$itemThumbCurrent.attr("data-video"),u.showLightbox(t,null,!0)))}),f("body").on("mousemove.image-hover"+e,function(t){t=f(t.target);t.closest(".gf_product-image-hover-zoom").attr("data-hover")!=e&&t.closest(".gf_product-image-thumb").attr("data-hover")!=e&&(a.removeAttr("data-hover"),i.removeAttr("data-hover"),a.next(".gf_product-image-hover-zoom").remove(),f("body").off("mousemove.image-hover"+e))}))}),a.find(".gf_product-image-thumb").off("click.gallery").on("click.gallery",function(){var t,e;r&&"1"==r&&(""==(t=f(this).attr("data-video"))&&(t=void 0),window.$itemThumbCurrent=f(this),null==t?(e=window.$itemThumbCurrent.attr("src"),u.showLightbox(e)):(e=window.$itemThumbCurrent.attr("data-video"),u.showLightbox(e,null,"video")))}),l)&&0<l.length&&(l.off("click.hide").on("click.hide",function(t){0==f(t.target).closest(".gf_featherlight-content").length&&u.hideLightbox()}),l.find(".gf_featherlight-close").off("click.close").on("click.close",function(t){t.preventDefault(),u.hideLightbox()}),l.find('[data-action="next"]').off("click.next").on("click.next",function(t){t.preventDefault();l.find(".gf_featherlight-image");var t=".item",e=window.$itemThumbCurrent.closest(".item"),e=(e.parent().hasClass("owl-item")&&(e=e.parent(),t=".owl-item"),e.next(t)),t=(0==e.length&&(e=a.find(t).first()),window.$itemThumbCurrent=e.find(".gf_product-image-thumb, .gf_product-video-thumb"),window.$itemThumbCurrent.attr("data-video"));null!=t&&""!=t?u.showLightbox(t,"next",!0):(t=window.$itemThumbCurrent.attr("src"),u.showLightbox(t,"next"))}),l.find('[data-action="previous"]').off("click.next").on("click.next",function(t){t.preventDefault();l.find(".gf_featherlight-image");var t=".item",e=window.$itemThumbCurrent.closest(".item"),e=(e.parent().hasClass("owl-item")&&(e=e.parent(),t=".owl-item"),e.prev(t)),t=(0==e.length&&(e=a.find(t).last()),window.$itemThumbCurrent=e.find(".gf_product-image-thumb, .gf_product-video-thumb"),window.$itemThumbCurrent.attr("data-video"));null!=t&&""!=t?u.showLightbox(t,"previous",!0):(t=window.$itemThumbCurrent.attr("src"),u.showLightbox(t,"previous"))})),!1},this.resize=function(t,e,a){var n;e&&a&&(t.css("width","").css("height",""),1<(n=Math.max(e/(t.parent().width()-1),a/(t.parent().height()-1))))&&(n=a/Math.floor(a/n),t.css("width",e/n+"px").css("height",a/n+"px"))},this.showLightbox=function(i,r,t){if(null!=window.gfImageListVideoPlayer&&(null!=window.gfImageListVideoPlayer.pause?window.gfImageListVideoPlayer.pause():null!=window.gfImageListVideoPlayer.pauseVideo&&window.gfImageListVideoPlayer.pauseVideo()),l&&0<l.length&&null!=i&&""!=i){l.show();var e=l.find(".gf_featherlight-image"),a=l.find("#gf_featherlight-video");if(e.css("opacity",0),a.css("opacity",0),l.find(".gf_featherlight-loading").addClass("active"),t){var n,o,d,c,s,e=l.find(".gf_featherlight-image");if("iframe"==(a=l.find("#gf_featherlight-video")).prop("tagName").toLowerCase())return e.css("display","none"),a.css("display","block"),a.fadeTo(700,1),l.find(".gf_featherlight-loading").removeClass("active"),!1;-1!=i.indexOf("vimeo.com/")?(n=function(){window.gfImageListVideoPlayer=new Vimeo.Player("gf_featherlight-video",{url:i,loop:!1,autoplay:!0,title:!1,byline:!1}),window.gfImageListVideoPlayer.ready().then(function(){var t=l.find(".gf_featherlight-image"),e=l.find("#gf_featherlight-video");t.css("display","none"),e.css("display","block"),!r||"next"!=r&&"previous"!=r?e.css("opacity",1):e.fadeTo(700,1),l.find(".gf_featherlight-loading").removeClass("active")})},d="https://player.vimeo.com/api/player.js",0==f(document).find("script[src^='"+d+"']").length?((c=document.createElement("script")).onload=function(){n()},(s=document.getElementsByTagName("script")[0]).parentNode.insertBefore(c,s),c.src=d):n()):(o=function(){window.gfImageListVideoPlayer=new YT.Player("gf_featherlight-video",{videoId:video_id,playerVars:{autoplay:1,autohide:1,modestbranding:1,rel:0,showinfo:0,controls:1,disablekb:1,enablejsapi:0,iv_load_policy:3,hd:1},events:{onReady:function(){var t=l.find(".gf_featherlight-image"),e=l.find("#gf_featherlight-video");t.css("display","none"),e.css("display","block"),!r||"next"!=r&&"previous"!=r?e.css("opacity",1):e.fadeTo(700,1),l.find(".gf_featherlight-loading").removeClass("active")}}})},(video_id=-1!=i.indexOf("youtu.be/")?i.split("youtu.be/"):i.split(/watch\?v=/))&&null!=video_id[1]&&(video_id=video_id[1].split(/&/)[0]),d="https://www.youtube.com/iframe_api",0==f(document).find("script[src^='"+d+"']").length?((c=document.createElement("script")).onload=function(){o()},(s=document.getElementsByTagName("script")[0]).parentNode.insertBefore(c,s),c.src=d):o())}else{i=replaceImageToSize(i,"2048x2048");t=new Image;t.onload=function(){var e=this.width,a=this.height,t=l.find(".gf_featherlight-image"),n=l.find("#gf_featherlight-video");t.css("display","block"),n.css("display","none"),t.attr("src",i),l.find(".gf_featherlight-loading").removeClass("active"),!r||"next"!=r&&"previous"!=r?t.css("opacity",1):t.fadeTo(700,1),u.resize(t,e,a),f(window).off("resize.lightbox").on("resize.lightbox",function(){var t=l.find(".gf_featherlight-image");u.resize(t,e,a)})},t.src=i}}return!1},this.hideLightbox=function(){var t;null!=window.gfImageListVideoPlayer&&(null!=window.gfImageListVideoPlayer.pause?window.gfImageListVideoPlayer.pause():null!=window.gfImageListVideoPlayer.pauseVideo&&window.gfImageListVideoPlayer.pauseVideo()),l.hide(),"dev"==(f(".gryffeditor").hasClass("editing")?"dev":"production")&&(t=a.closest('[data-label="(P) Image List"]').attr("id"))&&null!=(t=parent.jQuery("body").find("#gfFrame").contents().find("#"+t)).data("gfmodule")&&t.data("gfmodule").openModuleSettings()},this.initLightbox=function(){return 0==f("body").children(".gf_featherlight").length&&f("body").append('<div class="gf_featherlight"><div class="gf_featherlight-content"><button class="gf_featherlight-close-icon gf_featherlight-close" aria-label="Close">✕</button><img src="" alt="" class="gf_featherlight-image gf_featherlight-inner"><div id="gf_featherlight-video" class="gf_featherlight-inner" /><span class="gf_featherlight-previous"><span title="previous" data-action="previous"><svg viewBox="0 0 448 512" ><path d="M231.536 475.535l7.071-7.07c4.686-4.686 4.686-12.284 0-16.971L60.113 273H436c6.627 0 12-5.373 12-12v-10c0-6.627-5.373-12-12-12H60.113L238.607 60.506c4.686-4.686 4.686-12.284 0-16.971l-7.071-7.07c-4.686-4.686-12.284-4.686-16.97 0L3.515 247.515c-4.686 4.686-4.686 12.284 0 16.971l211.051 211.05c4.686 4.686 12.284 4.686 16.97-.001z" class=""></path></svg></span></span><span class="gf_featherlight-next"><span title="next" data-action="next"><svg viewBox="0 0 448 512"><path d="M216.464 36.465l-7.071 7.07c-4.686 4.686-4.686 12.284 0 16.971L387.887 239H12c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h375.887L209.393 451.494c-4.686 4.686-4.686 12.284 0 16.971l7.071 7.07c4.686 4.686 12.284 4.686 16.97 0l211.051-211.05c4.686-4.686 4.686-12.284 0-16.971L233.434 36.465c-4.686-4.687-12.284-4.687-16.97 0z" class=""></path></svg></span></span><div class="gf_featherlight-loading"><div></div><div></div><div></div><div></div></div></div></div>'),l=f("body").children(".gf_featherlight"),!1},this.init()},f.fn.gfV3Lightbox=function(e){return this.each(function(){var t;null==f(this).data("gfv3lightbox")&&(t=new f.gfV3Lightbox(this,e),f(this).data("gfv3lightbox",t))})}}(window.GemQuery||jQuery),function(n){n.gfV4ProductQuantity=function(t,e){n(t);var a={minusClass:"gf_product-quantity-minus",plusClass:"gf_product-quantity-plus",style:"default"};this.settings={};this.init=function(){this.settings=n.extend({},a,e)},this.init()},n.fn.gfV4ProductQuantity=function(e){return this.each(function(){var t;null==n(this).data("gfv4productquantity")&&(t=new n.gfV4ProductQuantity(this,e),n(this).data("gfv4productquantity",t))})}}(window.GemQuery||jQuery),function(s){s.gfV3ProductDesc=function(t,e){var a,i,r,o,d=s(t),n={},c=(this.settings={},this);this.init=function(){return this.settings=s.extend({},n,e),"dev"==(s(".gryffeditor").hasClass("editing")?"dev":"production")&&c.checkBlankDescription(),void 0!==d.data("readmore")&&c.initReadMore(),!1},this.checkBlankDescription=function(){var t=d.find(".gf_product-desc").html();try{t&&""!=t&&""!=t.trim()||d.find(".gf_product-desc").html('<div style="border: 1px solid #e84879;padding: 2px 10px;">There is no content to display. Read more to learn <a href="https://help.gempages.net/articles/p-description-element" target="_blank" style="color: #3c67ff !important; text-decoration: underline !important">how to add</a> or split product <a href="https://help.gempages.net/articles/how-to-add-tabs-or-drop-down-accordions-in-product-descriptions" target="_blank" style="color: #3c67ff !important; text-decoration: underline !important">description into multiple sections</a> from your Shopify admin.</div>')}catch(t){console.log(t)}},this.initReadMore=function(){var n;a=void 0!==d.data("readmore")?d.data("readmore"):"1",o=void 0!==d.data("readmoreheight")?d.data("readmoreheight"):"100px",r=void 0!==d.data("lesstext")?d.data("lesstext"):"Less",i=void 0!==d.data("moretext")?d.data("moretext"):"Read More",1!=a&&"1"!=a||(n=d.find(".gf_product-desc"),setTimeout(function(){var t,e,a=n.css("height");try{parseInt(a)>parseInt(o)&&(d.find(".gf_product-bgmore").length||(n.css("height",o),t='<div class="gf_product-bgmore"><div class="gf_product-readmore" data-action="readmore">'+i+"</div></div>",n.after(t),e=!1,d.find(".gf_product-readmore").off("click").on("click",function(){var t=s(this);if(!e)switch(e=!0,t.attr("data-action")){case"readmore":t.attr("data-action","less"),t.text(r),n.css("height",a),e=!1;break;case"less":t.attr("data-action","readmore"),t.text(i),n.css("height",o),e=!1}})))}catch(t){console.log(t)}},0))},this.init()},s.fn.gfV3ProductDesc=function(e){return this.each(function(){var t;null==s(this).data("gfv3productdesc")&&(t=new s.gfV3ProductDesc(this,e),s(this).data("gfv3productdesc",t))})}}(window.GemQuery||jQuery),function(e){e("form").each(function(){var a=e(this),n=a.find("#rc_container"),t="#";n.length<=0&&(n=a.find(".rc_container"),t="."),0<n.length&&"#"===t?a.off("submit.recharge").on("submit.recharge",function(t){var e,a=n.find("#rc_duplicate_selector").val();a&&""!=a||0<(e=n.find("#rc_duplicate_selector")).length&&e.children().val()&&(a=e.children().val(),e.val(a))}):0<n.length&&"."===t&&a.off("submit.recharge_2").on("submit.recharge_2",function(){var t,e=a.find("[name='id'][data-value]").attr("data-value")||a.find("[name=''][data-productid]").val();e&&""!=e||(t=a.find("[name='id'][data-value]")).val()&&""!=t.val()||t.val(e)})})}(window.GemQuery||jQuery),function(i){var t,e;i("#rc_container, .rc_container").length<=0||(t=0,e=setInterval(function(){500<++t&&(clearInterval(e),console.warn("[GemPages] Can't get ReCharge instance after 500 tries.")),window&&window.ReCharge&&window.ReCharge.products&&window.ReCharge.products.length&&window.ReCharge.products[0].hookManager&&(clearInterval(e),RCSource=window.ReCharge,window.ReCharge.products.forEach(function(t){t&&t.hookManager.register("price-changed",function(n){"purchase-type"!=n.source&&"variant"!=n.source||t.forms.forEach(function(t){var t=i(t).closest(".module"),e=t.find('[data-key="p-price"] .module').data("gfv3productprice"),t=t.data("gfv3product"),a=1;if(t&&(a=t.getQuantity()),e){e.setPriceWithQuantity(a);t="${{ amount }}";try{window.parent&&window.parent.jQuery&&window.parent.jQuery("#gfFrame")&&window.parent.jQuery("#gfFrame").attr("data-money")&&(t=window.parent.jQuery("#gfFrame").attr("data-money"))}catch(t){}a=e.calculatePriceByQuantity(n.newPrice/100,a,t),a=e.appendCurrency(a,t);e.setPrice(a)}})}),t&&t.forms.forEach(function(t){setTimeout(function(){refreshRechargeOptions(t,i,window.ReCharge)},500)})}))},100))}(window.GemQuery||jQuery);var gfEcomSolid=gfEcomSolid||{};gfEcomSolid.checkCartDrawer=function(){var t,e;return!!(window.SOLID&&window.SOLID.store&&window.SOLID.store.getState&&window.SOLID.store.dispatch)&&(t=!1,!(!(e=window.SOLID.store.getState("addons"))||!e.cart_drawer)||t)},gfEcomSolid.openCartDrawer=function(e){this.checkCartDrawer()&&window.SOLID.cart.GetCart().then(function(t){window.SOLID.store.dispatch("addToCartSuccess",e),window.SOLID.store.dispatch("openCartPopup","cart_drawer")})},gfEcomSolid.goToCheckoutWithDiscount=function(){var t=document.createElement("a"),e=(t.href=window.location.href,t.protocol+"//"+t.host+"/checkout");window.SOLID&&window.SOLID.store&&window.SOLID.cart&&window.SOLID.cart.GetCart&&window.SOLID.store.getState&&window.SOLID.store.dispatch?window.SOLID.cart.GetCart().then(function(){var t=window.SOLID.store.getState("discount");t&&t.title&&(e+="?discount="+t.title),window.location.href=e}):window.location.href=e};